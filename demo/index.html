<!DOCTYPE html>
<html>
    <head>
        <title></title>
    </head>
    <body>
        <script type="text/template"></script>
        <script src="bars.js"></script>
        <script type="text/javascript">
            var bars = window.Bars.create();

            var template = '<span>hello, {{#if @name}}<h2>{{@name}}</h2>{{else}}Person{{/if}}.</span>';
                template = '{{?helper .}}{{{?helper .}}}{{>partial .}}{{! comment }}{{!-- comment --}}{{#block .}}{{else}}{{/block}}';

                template = 'BEFORE :: \
                                <input value="{{name}}" onkeyup="javascript:a.name=this.value;window.c.update(a);">\
                                <span class="{{name}} {{name}}">{{#if name}}\
                                NAME={{name}}\
                                (helper: {{?helper name name}})\
                            {{else}}\
                                noname\
                            {{/if}}</span> :: ({{>partial}})',
                // partial = 'AFTER (PARTIAL - {{name}})',
                // template = '<div class="{{name}}">--<p>Hi, {{name}}!</p><input>--</div>';

            window.joey = {
                name: 'Joey'
            };

            window.cats = [
                {
                    name: undefined
                },
                {
                    name: false
                },
                window.joey,
                {
                    name: NaN
                }
            ];

            bars.registerHelper('helper', function(a) {
                return 'HELPER';
            });

            bars.registerPartial('partial', 'PARTIAL');

            bars.registerBlock('block', function (a) {
                return 'BLOCK';
            });

            window.a = {name:'My Name'};
            window.b = bars.compile(template);
            window.c = window.b.render();
            window.c.appendTo(document.body);
            window.c.update(a);

            // setInterval(function() {
            //     var n = Math.random();

            //     window.c.update({
            //         name: n < 0.8 ? n : null
            //     });
            // }, 1000);

            // console.log(window.c)
        </script>
    </body>
</html>
