!function e(t,n,r){function o(i,u){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!u&&s)return s(i,!0);if(a)return a(i,!0);var f=new Error("Cannot find module '"+i+"'");throw f.code="MODULE_NOT_FOUND",f}var p=n[i]={exports:{}};t[i][0].call(p.exports,function(e){var n=t[i][1][e];return o(n?n:e)},p,p.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){var r=e("generate-js"),o=e("./renderer"),a=e("./blocks"),i=e("./transforms"),u=r.generate(function(){var e=this;e.defineProperties({blocks:new a,partials:{},transforms:new i})});u.definePrototype({build:function(e){var t=this;return new o(t,e)},registerBlock:function(e,t){var n=this;n.blocks[e]=t},registerPartial:function(e,t){var n=this;n.partials[e]=n.compile(t)},registerTransform:function(e,t){var n=this;n.transforms[e]=t}}),t.exports=window.Bars=u},{"./blocks":2,"./renderer":5,"./transforms":9,"generate-js":10}],2:[function(e,t,n){var r=e("generate-js"),o=r.generate(function(){});o.definePrototype({if:function(e){return e},unless:function(e){return!e},with:function(e){var t=this;if(e&&"object"==typeof e){if(!t.nodes[0]){var n=t.createFragment(),r=t.path.slice();n.context.path=r}return t.nodes[0].context.data=e,!0}return!1},each:function(e){var t,n=this;if(e&&"object"==typeof e){var r=Object.keys(e);if(r.length){for(t=n.nodes.length-1;t>=r.length;t--)n.nodes[t].remove();for(t=n.nodes.length;t<r.length;t++)n.createFragment(r[t]);for(t=0;t<r.length;t++){var o=n.path.slice();o.push(r[t]),n.nodes[t].context.path=o,n.nodes[t].context.data=e[r[t]]}return!0}}return!1},reverse:function(e){var t,n=this;if(e&&"object"==typeof e){var r=Object.keys(e).reverse();if(r.length){for(t=n.nodes.length-1;t>=r.length;t--)n.nodes[t].remove();for(t=n.nodes.length;t<r.length;t++)n.createFragment(r[t]);for(t=0;t<r.length;t++){var o=n.path.slice();o.push(r[t]),n.nodes[t].context.path=o,n.nodes[t].context.data=e[r[t]]}return!0}}return!1}}),t.exports=o},{"generate-js":10}],3:[function(e,t,n){t.exports={TEXT:"TEXT",FRAGMENT:"FRAGMENT",HTML_COMMENT:"HTML-COMMENT",HTML_TAG:"HTML-TAG",HTML_TEXT:"HTML-TEXT",HTML_ATTR:"HTML-ATTR",STRING_TEXT:"STRING-TEXT",BARS_COMMENT:"BARS-COMMENT",BARS_BLOCK:"BARS-BLOCK",BARS_ELSE:"BARS-ELSE",BARS_INSERT:"BARS-INSERT",BARS_PARTIAL:"BARS-PARTIAL",STRING:"STRING",NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",NULL:"NULL",INSERT_VAL:"INSERT-VAL",UNARY_EXPRESSION:"UNARY-EXPRESSION",BINARY_EXPRESSION:"BINARY-EXPRESSION",TRANSFORM:"TRANSFORM"}},{}],4:[function(e,t,n){function r(e){if(e){if(e.type===i.INSERT_VAL)return e.path;if(e.type===i.UNARY_EXPRESSION)return r(e.argument);if(e.type===i.BINARY_EXPRESSION){var t=r(e.left);if(t.type===i.INSERT_VAL)return t.argument;var n=r(e.right);if(n.type===i.INSERT_VAL)return n.argument}else if(e.type===i.TRANSFORM)for(var o=0;o<e.arguments.length;o++){var a=r(e.arguments[o]);if(a.type===i.INSERT_VAL)return a.argument}}return""}function o(e){var t;if(e instanceof Array)t=e;else{if("string"!=typeof e)throw"bad arrgument: expected String | Array<String>.";t=e.match(/[\/]|[.][.]/)?e.split("/"):e.split("."),t[0]||t[1]||(t=["."]);var n=t.pop().split("@");n[0]&&t.push(n[0]),n[1]&&t.push("@"+n[1])}return t}var a=e("generate-js"),i=e("./compiler/token-types"),u=e("./runtime/execute"),s=e("./runtime/context"),f={},p=[],c={FRAGMENT:"FRAG","HTML-TAG":"TAG","HTML-TEXT":"TEXT","HTML-ATTR":"ATTR","STRING-TEXT":"TEXT","BARS-BLOCK":"BLOCK","BARS-INSERT":"TEXT","BARS-PARTIAL":"PARTIAL"},l=a.generate(function(e,t,n){var r=this;r.defineProperties({fragment:e||null,bars:t,nodes:[],parentTag:{get:r.getParentTag},prevDom:{get:r.getPrevDom},type:n.type,name:n.name,value:n.value,arg:n.argument,conFrag:n.consequent,altFrag:n.alternate})});l.definePrototype({update:function(e){var t=this;t.previousDom=null,t._update(e),t.isDOM&&(t._elementAppendTo(),t.parentTag.previousDom=t),t.previousDom=null},_update:function(){console.warn("_update method not implemented.")},appendChild:function(e){var t=this;t.nodes.push(e),e.parent=t},appendTo:function(e){var t=this;e instanceof Element&&t._elementAppendTo(e),l.isCreation(e)&&e.appendChild(t)},remove:function(){var e=this,t=e.parent.nodes.indexOf(e);t>=0&&e.parent.nodes.splice(t,1),e._elementRemove()},getParentTag:function(){for(var e=this,t=e.parent,n=t;t&&!t.isDOM;)n=t,t=t.parent;return t||n||null},getPrevDom:function(){var e=this;return e.parentTag&&e.parentTag.previousDom||null},_elementAppendTo:function(e){var t=this;if(t.parentTag&&(e=e||t.parentTag.$el||t.parentTag.$parent,e&&!t.$el.parentElement)){var n=t.prevDom;n?e.insertBefore(t.$el,n.$el.nextSibling):e.appendChild(t.$el)}},_elementRemove:function(){var e=this;e.isDOM&&e.$el.parentNode instanceof Element&&e.$el.parentNode.removeChild(e.$el)}}),f.TEXT=l.generate(function(e,t,n){var r=this;l.call(this,e,t,n),r.defineProperties({$el:document.createTextNode(n.value)})}),f.TEXT.definePrototype({isDOM:!0,appendChild:function(e){console.warn("appendChild CANNOT be called on TextNodes.")},_update:function(e){var t=this;t.arg&&(t.$el.textContent=u(t.arg,t.bars.transforms,e))}}),f.TAG=l.generate(function(e,t,n){var r,o=this,a=n.nodes||p,i=n.attrs||p;for(l.call(this,e,t,n),o.defineProperties({$el:document.createElement(n.name),attrs:[]}),r=0;r<a.length;r++){var u=a[r];o.appendChild(new f[c[u.type]](e,t,u))}for(r=0;r<i.length;r++){var s=i[r];o.addAttr(new f[c[s.type]](e,t,s))}}),f.TAG.definePrototype({isDOM:!0,_update:function(e){var t,n=this;for(t=0;t<n.attrs.length;t++)n.attrs[t].update(e);for(t=0;t<n.nodes.length;t++)n.nodes[t].update(e)},addAttr:function(e){var t=this;t.attrs.push(e),e.parent=t}}),f.ATTR=l.generate(function(e,t,n){var r=this,o=n.nodes||p;l.call(this,e,t,n),r.defineProperties({$el:document.createElement("div")});for(var a=0;a<o.length;a++){var i=o[a];r.appendChild(new f[c[i.type]](e,t,i))}}),f.ATTR.definePrototype({isDOM:!0,type:"ATTR",_update:function(e){var t,n=this;for(t=0;t<n.nodes.length;t++)n.nodes[t].update(e)},_elementAppendTo:function(){var e=this,t=e.parentTag.$el;t instanceof Element&&t.setAttribute(e.name,e.$el.textContent)},_elementRemove:function(){var e=this,t=e.parentTag.$el;t instanceof Element&&t.removeAttribute(e.name)}}),f.BLOCK=l.generate(function(e,t,n){var a=this;l.call(this,e,t,n),a.path=o(r(a.arg))}),f.BLOCK.definePrototype({type:"BLOCK",createFragment:function(e){var t=this,n=new f.FRAG(t.fragment,t.bars,t.conFrag);return t.appendChild(n),n},_update:function(e){var t,n,r,o=this;if("function"!=typeof o.bars.blocks[o.name])throw new Error("Block helper not found: "+o.name);if(n=u(o.arg,o.bars.transforms,e),t=o.bars.blocks[o.name].call(o,n)){for(o.nodes.length||o.createFragment(),r=0;r<o.nodes.length;r++)o.nodes[r].update(e);o.alternate&&o.alternate._elementRemove()}else{for(r=0;r<o.nodes.length;r++)o.nodes[r]._elementRemove();o.alternate||(o.alternate=new f.FRAG(o.fragment,o.bars,o.altFrag||{}),o.alternate.parent=o),o.alternate.update(e)}},_elementAppendTo:function(){},_elementRemove:function(){var e,t=this;for(e=0;e<t.nodes.length;e++)t.nodes[e]._elementRemove();t.alternate&&t.alternate._elementRemove()}}),f.PARTIAL=l.generate(function(e,t,n){var a=this;l.call(this,e,t,n),a.path=o(r(a.arg))}),f.PARTIAL.definePrototype({_update:function(e){var t=this;if(!t.partial){var n=t.bars.partials[t.name];if(!n||"object"!=typeof n)throw new Error("Partial not found: "+t.name);t.partial=new f.FRAG(t.fragment,t.bars,n.struct),t.partial.parent=t,(1===t.path.length&&"this"!==t.path[0]&&"."!==t.path[0]&&""!==t.path[0]||t.path.length>1)&&(t.partial.context.path=t.path)}var r=u(t.arg,t.bars.transforms,e);t.partial.context.data=r,t.partial.update(e)},_elementRemove:function(){var e=this;e.partial&&e.partial._elementRemove()}}),f.FRAG=l.generate(function(e,t,n){var r=this,o=n.nodes||p;l.call(this,e,t,n),r.context=new s(null,r,"");for(var a=0;a<o.length;a++){var i=o[a];c[i.type]&&r.appendChild(new f[c[i.type]](r,t,i))}}),f.FRAG.definePrototype({_update:function(e){var t=this;s.isCreation(e)||(t.context.data=e);for(var n=0;n<t.nodes.length;n++)t.nodes[n].update(t.context);t.context.data=null},_elementAppendTo:function(e){var t=this;t.$parent=e},_elementRemove:function(){for(var e=this,t=0;t<e.nodes.length;t++)e.nodes[t]._elementRemove();e.$parent=null}}),t.exports=f.FRAG},{"./compiler/token-types":3,"./runtime/context":6,"./runtime/execute":7,"generate-js":10}],5:[function(e,t,n){var r=e("generate-js"),o=e("./frag"),a=r.generate(function(e,t){var n=this;n.defineProperties({bars:e,struct:t})});a.definePrototype({render:function(){var e=this;return new o(null,e.bars,e.struct)}}),t.exports=a},{"./frag":4,"generate-js":10}],6:[function(e,t,n){function r(e,t){for(e=e.slice(),t=t.slice();e.length&&".."===t[0];)t.shift(),e.pop();return e.concat(t)}function o(e){var t;if(e instanceof Array)t=e;else{if("string"!=typeof e)throw"bad arrgument: expected String | Array<String>.";t=e.match(/[\/]|[.][.]/)?e.split("/"):e.split("."),t[0]||t[1]||(t=["."]);var n=t.pop().split("@");n[0]&&t.push(n[0]),n[1]&&t.push("@"+n[1])}return t}var a=e("generate-js"),i=a.generate(function(e,t,n){var r=this;r.data=e,r.fragment=t,r.context=null,r.path=n,r.__path=[],r.props={get key(){return!r.path.length&&r.context?r.context.props.key:r.path[r.path.length-1]},get index(){return!r.path.length&&r.context?r.context.props.index:r.path[r.path.length-1]}}});i.definePrototype({path:{get:function(){return this.__path||[]},set:function e(e){var t=this;e=o(e);var n=t.fragment;if(t.data=null,t.context=null,"~"===e[0]&&n.fragment){for(;n.fragment;)n=n.fragment;t.context=n.context,e.shift()}else if(".."===e[0]&&n.fragment&&n.fragment.fragment)for(t.context=n.fragment.context;".."===e[0]&&t.context.context;)e=r(t.context.path,e),t.context=t.context.context;t.__path=e}},lookup:function(e){var t=this;if(e=o(e),!t.context&&t.fragment.fragment&&(t.context=t.fragment.fragment.context),"~"===e[0]&&t.context)return t.context.lookup(e);if(".."===e[0]&&t.context)return t.context.lookup(r(t.path,e));if("this"!==e[0]&&"."!==e[0]&&"~"!==e[0]||e.shift(),!t.data&&t.context&&(t.data=t.context.lookup(t.path)),t.data){for(var n=t.data,a=0;n&&a<e.length;a++)n="@"===e[a][0]?t.props[e[a].slice(1)]:null!==n&&void 0!==n?n[e[a]]:void 0;return n}}}),t.exports=i},{"generate-js":10}],7:[function(e,t,n){function r(e,t,n){function r(e){var i,u=[];if(e.type===o.STRING||e.type===o.NUMBER||e.type===o.BOOLEAN||e.type===o.NULL)i=e.value;else if(e.type===o.INSERT_VAL)i=n.lookup(e.path);else if(e.type===o.UNARY_EXPRESSION)i=a[e.opperator](r(e.argument));else if(e.type===o.BINARY_EXPRESSION)i="||"===e.opperator?r(e.left)||r(e.right):"&&"===e.opperator?r(e.left)&&r(e.right):a[e.opperator](r(e.left),r(e.right));else if(e.type===o.TRANSFORM){for(var s=0;s<e.arguments.length;s++)u.push(r(e.arguments[s]));if(!(t[e.name]instanceof Function))throw'Missing Transfrom: "'+e.name+'".';i=t[e.name].apply(null,u)}return i}return e?r(e):n.lookup(".")}var o=e("../compiler/token-types"),a=e("./logic");t.exports=r},{"../compiler/token-types":3,"./logic":8}],8:[function(e,t,n){n.add=function(e,t){return e+t},n.subtract=function(e,t){return e-t},n.multiply=function(e,t){return e*t},n.devide=function(e,t){return e/t},n.mod=function(e,t){return e%t},n["+"]=n.add,n["-"]=n.subtract,n["*"]=n.multiply,n["/"]=n.devide,n["%"]=n.mod,n.not=function(e){return!e},n["!"]=n.not,n.or=function(e,t){return e||t},n.and=function(e,t){return e&&t},n["||"]=n.or,n["&&"]=n.and,n.strictequals=function(e,t){return e===t},n.strictnotequals=function(e,t){return e!==t},n["==="]=n.strictequals,n["!=="]=n.strictnotequals,n.equals=function(e,t){return e==t},n.notequals=function(e,t){return e!=t},n.ltequals=function(e,t){return e<=t},n.gtequals=function(e,t){return e>=t},n["=="]=n.equals,n["!="]=n.notequals,n["<="]=n.ltequals,n[">="]=n.gtequals,n.lt=function(e,t){return e<t},n.gt=function(e,t){return e>t},n["<"]=n.lt,n[">"]=n.gt},{}],9:[function(e,t,n){var r=e("generate-js"),o=r.generate(function(){});o.definePrototype({log:function(e){console.log("Bars: ",e)},upperCase:function(e){return String(e).toUpperCase()},lowerCase:function(e){return String(e).toLowerCase()},number:function(e){return Number(e)},string:function(e){return String(e)},sort:function(e,t){return e.sort(function(e,n){return t?e[t]<n[t]?-1:e[t]>n[t]?1:0:e<n?-1:e>n?1:0})}}),t.exports=o},{"generate-js":10}],10:[function(e,t,n){!function(){function e(e,t){if(typeof e!==t)throw new TypeError("Expected '"+t+"' but instead found '"+typeof e+"'")}function r(e){var t,n;return!!(e&&"object"==typeof e&&(t=Object.getOwnPropertyNames(e).sort(),n=t.length,1===n&&("get"===t[0]&&"function"==typeof e.get||"set"===t[0]&&"function"==typeof e.set)||2===n&&"get"===t[0]&&"function"==typeof e.get&&"set"===t[1]&&"function"==typeof e.set))}function o(e,t,n){var o,a,i,u={},s=n||t,f=n&&t;for(n=s&&"object"==typeof s?s:{},t=f&&"object"==typeof f?f:{},a=Object.getOwnPropertyNames(n),i=a.length,o=0;o<i;o++)r(n[a[o]])?u[a[o]]={configurable:!!t.configurable,enumerable:!!t.enumerable,get:n[a[o]].get,set:n[a[o]].set}:u[a[o]]={configurable:!!t.configurable,enumerable:!!t.enumerable,writable:!!t.writable,value:n[a[o]]};return Object.defineProperties(e,u),e}function a(){}var i={defineProperties:function(e,t){return o(this,e,t),this},getProto:function(){return Object.getPrototypeOf(this)},getSuper:function(){return Object.getPrototypeOf(this.constructor.prototype)}},u={isGeneration:function(t){e(t,"function");var n=this;return n.prototype.isPrototypeOf(t.prototype)},isCreation:function(e){var t=this;return e instanceof t},generate:function(t){e(t,"function");var n=this;return o(t,{configurable:!1,enumerable:!1,writable:!1},{prototype:Object.create(n.prototype)}),o(t,{configurable:!1,enumerable:!1,writable:!1},u),o(t.prototype,{configurable:!1,enumerable:!1,writable:!1},{constructor:t,generator:t}),t},definePrototype:function(e,t){return o(this.prototype,e,t),this}};o(a,{configurable:!1,enumerable:!1,writable:!1},{prototype:a.prototype}),o(a.prototype,{configurable:!1,enumerable:!1,writable:!1},i),o(a,{configurable:!1,enumerable:!1,writable:!1},u),o(a,{configurable:!1,enumerable:!1,writable:!1},{isGenerator:function(e){return this.isGeneration(e)},toGenerator:function(t,n){return e(t,"function"),e(n,"function"),o(n,{configurable:!1,enumerable:!1,writable:!1},{prototype:Object.create(t.prototype)}),o(n,{configurable:!1,enumerable:!1,writable:!1},u),o(n.prototype,{configurable:!1,enumerable:!1,writable:!1},{constructor:construct,generator:construct}),o(n.prototype,{configurable:!1,enumerable:!1,writable:!1},i),n}}),Object.freeze(a),Object.freeze(a.prototype),"function"==typeof define&&define.amd?define(function(){return a}):"object"==typeof t&&"object"==typeof n?t.exports=a:window.Generator=a}()},{}]},{},[1]);