!function e(t,n,r){function o(a,c){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!c&&u)return u(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[a]={exports:{}};t[a][0].call(s.exports,function(e){var n=t[a][1][e];return o(n?n:e)},s,s.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){var r=e("generate-js"),o=e("./renderer"),i=e("./blocks"),a=e("./transforms"),c=r.generate(function(){var e=this;e.defineProperties({blocks:new i,partials:{},transforms:new a})});c.definePrototype({build:function(e){var t=this;return new o(t,e)},registerBlock:function(e,t){var n=this;n.blocks[e]=t},registerPartial:function(e,t){var n=this;n.partials[e]=n.compile(t)},registerTransform:function(e,t){var n=this;n.transforms[e]=t}}),t.exports=window.Bars=c},{"./blocks":3,"./renderer":12,"./transforms":16,"generate-js":17}],2:[function(e,t,n){var r=e("./bars-runtime"),o=e("./compiler");r.definePrototype({compile:function(e,t){var n=this;return n.build(n.parse(e,t))},parse:function(e,t){return o(e,t)}})},{"./bars-runtime":1,"./compiler":7}],3:[function(e,t,n){var r=e("generate-js"),o=r.generate(function(){});o.definePrototype({if:function(e){return e},unless:function(e){return!e},with:function(e){var t=this;if(e&&"object"==typeof e){if(!t.nodes[0]){var n=t.createFragment(),r=t.path.slice();n.context.path=r}return t.nodes[0].context.data=e,!0}return!1},each:function(e){var t,n=this;if(e&&"object"==typeof e){var r=Object.keys(e);if(r.length){for(t=n.nodes.length-1;t>=r.length;t--)n.nodes[t].remove();for(t=n.nodes.length;t<r.length;t++)n.createFragment(r[t]);for(t=0;t<r.length;t++){var o=n.path.slice();o.push(r[t]),n.nodes[t].context.path=o,n.nodes[t].context.data=e[r[t]]}return!0}}return!1},reverse:function(e){var t,n=this;if(e&&"object"==typeof e){var r=Object.keys(e).reverse();if(r.length){for(t=n.nodes.length-1;t>=r.length;t--)n.nodes[t].remove();for(t=n.nodes.length;t<r.length;t++)n.createFragment(r[t]);for(t=0;t<r.length;t++){var o=n.path.slice();o.push(r[t]),n.nodes[t].context.path=o,n.nodes[t].context.data=e[r[t]]}return!0}}return!1}}),t.exports=o},{"generate-js":17}],4:[function(e,t,n){function r(e,t){this.reset(),this._buffer=e,this._file=t}r.prototype={reset:function(){this.line=1,this.column=1,this._index=0,this._currentLine=0},get currentLine(){for(var e="",t=this._currentLine;t<this.length&&(e+=this._buffer[t],10!==this._buffer.codePointAt(t));)t++;return e},get buffer(){return this._buffer},get index(){return this._index},set index(e){var t=this._index,n=!1;if(e=Math.min(this.length,e),e=Math.max(0,e),t!=e){for(t>e&&(this.reset(),t=this._index),10===this.buffer.codePointAt(t)&&(n=!0,t++);t<=e;t++)n?(this._currentLine=t,this.line++,n=!1):this.column++,10===this.buffer.codePointAt(t)&&(n=!0);this.column=e-this._currentLine+1,this._index=e}},get length(){return this._buffer.length},next:function(){return this.index++,this.charAt(this.index)},get left(){return this._index<this.length},charAt:function(e){return this._buffer[e]||"EOF"},codePointAt:function(e){return this._buffer.codePointAt(e)},slice:function(e,t){return this._buffer.slice(e,t)},makeError:function(e,t){t=t||1;var n,r=this.currentLine,o="\n"===r[r.length-1]?"":"\n";for(n=1;n<this.column;n++)o+=" ";for(t=Math.min(t,r.length-o.length)||1,n=0;n<t;n++)o+="^";return"Syntax Error: "+e+" at "+(this._file?this._file+":":"")+this.line+":"+this.column+" index "+this.index+"\n\n"+r+o+"\n"}},t.exports=r},{}],5:[function(e,t,n){function r(e){return 65<=e&&e<=90||97<=e&&e<=122}function o(e){return 48<=e&&e<=57||65<=e&&e<=90||97<=e&&e<=122}function i(e){return 45===e||48<=e&&e<=57||65<=e&&e<=90||95===e||97<=e&&e<=122}function a(e){return 9<=e&&e<=13||32===e||160===e||5760===e||6158===e||8192<=e&&e<=8202||8232<=e&&e<=8233||8239===e||8287===e||12288===e||65279===e}function c(e){var t;return t=J[e.slice(1,-1)],"number"!=typeof t&&"#"===e[1]&&(t=parseInt(e.slice(2,-1),10)),"number"!=typeof t||isNaN(t)?e:String.fromCharCode(t)}function u(e,t,n,r){for(var o=t.index,i=new C(t,X.TEXT);o<t.length&&(ch=t.codePointAt(o),123!==t.codePointAt(o)||123!==t.codePointAt(o+1));o++);return t.index<o?(t.index=o,i.close(t),i.value=i.source(t),i):null}function l(e,t,n,r){var o,i=t.index,a=t.length;if(60===t.codePointAt(i)&&33===t.codePointAt(++i)&&45===t.codePointAt(++i)&&45===t.codePointAt(++i)){for(o=new C(t,X.HTML_COMMENT),i++;i<a;i++)if(45===t.codePointAt(i)&&45===t.codePointAt(i+1)&&62===t.codePointAt(i+2))return i+=3,t.index=i,o.close(t),o.value=o.source(t),o;throw t.makeError('Unclosed Comment: Expected "-->" to fallow "<!--".',4)}return null}function s(e,t,n,o){var a,c=t.index,u=t.length;if(60===t.codePointAt(c)&&47===t.codePointAt(++c)){if(a=new C(t,X.HTML_TAG),a.name="",c++,!r(t.codePointAt(c)))throw t.index=c,t.makeError("Unexpected Token: Expected <[A-Za-z]> but found "+JSON.stringify(t.charAt(c))+".");for(;c<u;c++){if(ch=t.codePointAt(c),!i(ch)){if(62===ch){if(c++,t.index=c,a.close(t),!o||o.type!==a.type)throw t.index=a.range[0],t.makeError("Unexpected Closing Tag: "+JSON.stringify(a.source(t))+".",a.length);if(o.name!==a.name)throw t.index=a.range[0],t.makeError("Mismatch Closing Tag: Expected "+JSON.stringify("</"+o.name+">")+" but found "+JSON.stringify(a.source(t))+".",a.length);return o.close(t),!0}throw t.index=c,t.makeError("Unexpected Token: Expected "+JSON.stringify(">")+" but found "+JSON.stringify(t.charAt(c))+".")}a.name+=t.charAt(c)}}return null}function f(e,t,n,o){var a,c=t.index,u=t.length;if(60===t.codePointAt(c)){if(a=new C(t,X.HTML_TAG),a.name="",a.attrs=[],a.nodes=[],c++,!r(t.codePointAt(c)))throw t.index=c,t.makeError("Unexpected Token: Expected <[A-Za-z]> but found "+JSON.stringify(t.charAt(c))+".");for(;c<u&&(ch=t.codePointAt(c),i(ch));c++)a.name+=t.charAt(c);if(t.index=c,U("ATTR",t,a.attrs,a),!a.closed)throw t.makeError("Unclosed Tag: Expected "+JSON.stringify(">")+" but found "+JSON.stringify(t.charAt(t.index))+".",a.length);if(j.indexOf(a.name)!==-1&&(a.selfClosing=!0),a.selfClosing||a.selfClosed)return a.close(t),a;if(delete a.closed,U("DOM",t,a.nodes,a),!a.closed)throw t.index=a.range[0],t.makeError("Unclosed Tag: Expected "+JSON.stringify("</"+a.name+">")+" to fallow "+JSON.stringify(a.source(t))+".",a.length);return a}return null}function d(e,t,n,r){var i,a=t.index,u=!1,l="",s=new C(t,X.HTML_TEXT);for(s.value="";a<t.length;a++){if(i=t.codePointAt(a),60===i||123===i&&123===t.codePointAt(a+1)){s.value+=l;break}38!==i?u&&59===i?(l+=t.charAt(a),s.value+=c(l),u=!1,l=""):u&&o(i)?l+=t.charAt(a):(s.value+=l,u=!1,l="",s.value+=t.charAt(a)):(u=!0,l=t.charAt(a))}return s.value?(t.index=a,s.close(t),s):null}function p(e,t,n,r){var o=t.codePointAt(t.index);return 62===o?(t.index++,r.close(t),!0):47===o&&62===t.codePointAt(t.index+1)?(t.index+=2,r.close(t),r.selfClosed=!0,!0):null}function g(e,t,n,o){var a=t.index,c=t.length,u=new C(t,X.HTML_ATTR);if(u.name="",u.nodes=[],!r(t.codePointAt(a)))return null;for(;a<c&&i(t.codePointAt(a));a++)u.name+=t.charAt(a);if(u.name){if(61===t.codePointAt(a)){if(a++,34!==t.codePointAt(a))throw t.index=a,t.makeError('Unexpected Token: Expected """ but found '+JSON.stringify(t.charAt(a)));a++,t.index=a,U("VALUE",t,u.nodes,u)}else t.index=a,u.close(t);if(!u.closed)throw t.index=u.range[0]+u.name.length+1,t.makeError('Unclosed String: Expected """ to fallow """');return u}return null}function h(e,t,n,r){return 34===t.codePointAt(t.index)?(t.index++,r.close(t),!0):null}function m(e,t,n,r){var o,i=t.index,a=t.length,c=new C(t,X.STRING_TEXT);for(c.value="";i<a;i++){if(o=t.codePointAt(i),10===o)return t.index=i,null;if(34===o&&92!==t.codePointAt(i-1))break;if(123===o&&123===t.codePointAt(i+1))break}return i>t.index?(t.index=i,c.close(t),c.value=c.source(t),c):null}function A(e,t,n,r){for(var o=t.index,i=t.length,c=0;o<i&&a(t.codePointAt(o));o++)c++;return c?(t.index=o,!0):null}function x(e,t,n,r){var o,i=t.index,a=t.length;if(123===t.codePointAt(i)&&123===t.codePointAt(++i)&&33===t.codePointAt(++i)){for(o=new C(t,X.BARS_COMMENT),i++;i<a;i++)if(125===t.codePointAt(i)&&125===t.codePointAt(i+1))return i+=2,t.index=i,o.close(t),o.value=o.source(t),o;throw t.makeError('Unclosed Comment: Expected "}}" to fallow "{{!".',3)}return null}function E(e,t,n,r){var o,i=t.index,a=t.length;if(123===t.codePointAt(i)&&123===t.codePointAt(++i)&&33===t.codePointAt(++i)&&45===t.codePointAt(++i)&&45===t.codePointAt(++i)){for(o=new C(t,X.BARS_COMMENT),o.more=!0,i++;i<a;i++)if(45===t.codePointAt(i)&&45===t.codePointAt(i+1)&&125===t.codePointAt(i+2)&&125===t.codePointAt(i+3))return i+=4,t.index=i,o.close(t),o.value=o.source(t),o;throw t.makeError('Unclosed Comment: Expected "--}}" to fallow "{{!--".',5)}return null}function v(e,t,n,o){var a,c=t.index,u=t.length;if(123===t.codePointAt(c)&&123===t.codePointAt(++c)&&47===t.codePointAt(++c)){if(a=new C(t,X.BARS_BLOCK),a.name="",c++,!r(t.codePointAt(c)))throw t.index=c,t.makeError("Unexpected Token: Expected <[A-Za-z]> but found "+JSON.stringify(t.charAt(c))+".");for(;c<u;c++){if(ch=t.codePointAt(c),!i(ch)){if(125===ch&&125===t.codePointAt(c+1)){if(c+=2,t.index=c,a.close(t),!o||o.type!==a.type)throw t.index=a.range[0],t.makeError("Unexpected Closing Block: "+JSON.stringify(a.source(t))+".",a.length);if(o.name!==a.name)throw t.index=a.range[0],t.makeError("Mismatch Closing Block: Expected "+JSON.stringify("{{/"+o.name+"}}")+" but found "+JSON.stringify(a.source(t))+".",a.length);return o.close(t),!0}throw t.index=c,t.makeError("Unexpected Token: Expected "+JSON.stringify("}}")+" but found "+JSON.stringify(t.charAt(c))+".")}a.name+=t.charAt(c)}}return null}function y(e,t,n,r){var o,i=t.index;t.length;if(123===t.codePointAt(i)&&123===t.codePointAt(++i)&&101===t.codePointAt(++i)&&108===t.codePointAt(++i)&&115===t.codePointAt(++i)&&101===t.codePointAt(++i)&&125===t.codePointAt(++i)&&125===t.codePointAt(++i)){if(o=new C(t,X.BARS_ELSE),i++,t.index=i,o.close(t),!r)throw t.index=o.range[0],t.makeError("Unexpected Token: "+JSON.stringify(o.source(t))+".",o.length);return r.elsed=o,r.close(t),!0}return null}function N(e,t,n,o){var a,c=t.index,u=t.length;if(123===t.codePointAt(c)&&123===t.codePointAt(++c)&&35===t.codePointAt(++c)){if(a=new C(t,X.BARS_BLOCK),a.name="",a.arguments=[],c++,!r(t.codePointAt(c)))throw t.index=c,t.makeError("Unexpected Token: Expected <[A-Za-z]> but found "+JSON.stringify(t.charAt(c))+".");for(;c<u&&(ch=t.codePointAt(c),i(ch));c++)a.name+=t.charAt(c);if(t.index=c,U("LOGIC",t,a.arguments,a),a.argument=a.arguments[0],a.arguments.length>1)throw t.index=a.arguments[1].range[0],t.makeError("Unexpected Token: "+JSON.stringify(a.arguments[1].source(t))+".",a.arguments[1].length);if(delete a.arguments,!a.closed)throw t.makeError("Unclosed Block: Expected "+JSON.stringify("}}")+" but found "+JSON.stringify(t.charAt(t.index))+".",a.length);if(!a.argument)throw t.index-=2,t.makeError("Missing <arg>.");if(delete a.closed,a.consequent=new C(t,X.FRAGMENT),a.consequent.nodes=[],U(e,t,a.consequent.nodes,a),c=t.index,t.index=a.consequent.nodes[a.consequent.nodes.length-1].range[1],a.consequent.close(t),t.index=c,a.elsed&&(delete a.elsed,delete a.closed,a.alternate=new C(t,X.FRAGMENT),a.alternate.nodes=[],U(e,t,a.alternate.nodes,a),c=t.index,t.index=a.alternate.nodes[a.alternate.nodes.length-1].range[1],a.alternate.close(t),t.index=c,a.elsed))throw t.index=a.elsed.range[0],t.makeError("Unexpected Token: "+JSON.stringify(a.elsed.source(t)),a.elsed.length);if(!a.closed)throw t.index=a.range[0],t.makeError("Unclosed Block: Expected "+JSON.stringify("{{/"+a.name+"}}")+" to fallow "+JSON.stringify(a.source(t))+".",a.length);return a}return null}function P(e,t,n,r){var o,i=t.index;t.length;if(123===t.codePointAt(i)&&123===t.codePointAt(++i)){if(o=new C(t,X.BARS_INSERT),o.arguments=[],i++,t.index=i,U("LOGIC",t,o.arguments,o),o.argument=o.arguments[0],o.arguments.length>1)throw t.index=o.arguments[1].range[0],t.makeError("Unexpected Token: "+JSON.stringify(o.arguments[1].source(t))+".",o.arguments[1].length);if(delete o.arguments,!o.closed)throw t.makeError("Unclosed Block: Expected "+JSON.stringify("}}")+" but found "+JSON.stringify(t.charAt(t.index))+".",o.length);if(!o.argument)throw t.index-=2,t.makeError("Missing <arg>.");return o}return null}function T(e,t,n,o){var a,c=t.index,u=t.length;if(123===t.codePointAt(c)&&123===t.codePointAt(++c)&&62===t.codePointAt(++c)){if(a=new C(t,X.BARS_PARTIAL),a.name="",a.arguments=[],c++,!r(t.codePointAt(c)))throw t.index=c,t.makeError("Unexpected Token: Expected <[A-Za-z]> but found "+JSON.stringify(t.charAt(c))+".");for(;c<u&&(ch=t.codePointAt(c),i(ch));c++)a.name+=t.charAt(c);if(t.index=c,U("LOGIC",t,a.arguments,a),a.argument=a.arguments[0],a.arguments.length>1)throw t.index=a.arguments[1].range[0],t.makeError("Unexpected Token: "+JSON.stringify(a.arguments[1].source(t))+".",a.arguments[1].length);if(delete a.arguments,!a.closed)throw t.makeError("Unclosed Block: Expected "+JSON.stringify("}}")+" but found "+JSON.stringify(t.charAt(t.index))+".",a.length);return a}return null}function S(e,t,n,r){return 125===t.codePointAt(t.index)&&125===t.codePointAt(t.index+1)?(t.index+=2,r.close(t),!0):null}function R(e,t,n,r){var o,i,a=t.index,c=t.length;if(39!==t.codePointAt(a))return null;for(a++,i=new C(t,X.STRING),i.value="";a<c;a++){if(o=t.codePointAt(a),10===o)return t.index=a,null;if(39===o&&92!==t.codePointAt(a-1)){a++;break}i.value+=t.charAt(a)}return a>t.index?(t.index=a,i.close(t),!r||r.type!==X.UNARY_EXPRESSION&&r.type!==X.BINARY_EXPRESSION||r.close(t),i):null}function O(e,t,n,r){var o,i,a=t.index,c=t.length,u=t.codePointAt(a),l=t.codePointAt(a+1);if(45===u&&48<=l&&l<=57||48<=u&&u<=57){for(a++,number=new C(t,X.NUMBER);a<c;a++)if(u=t.codePointAt(a),!(48<=u&&u<=57))if(69===u||101===u){if(a++,u=t.codePointAt(a),l=t.codePointAt(a+1),i||!((43===u||45===u)&&48<=l&&l<=57||48<=u&&u<=57))throw t.index=a-1,t.makeError("Unexpected Token: "+JSON.stringify(t.charAt(a-1))+".");i=!0}else{if(46!==u)break;if(a++,u=t.codePointAt(a),i||o||!(48<=u&&u<=57))throw t.index=a-1,t.makeError('Unexpected Token: ".".');o=!0}return t.index=a,number.close(t),number.value=Number(number.source(t)),!r||r.type!==X.UNARY_EXPRESSION&&r.type!==X.BINARY_EXPRESSION||r.close(t),number}return null}function b(e,t,n,r){var o=t.index,i=new C(t,X.BOOLEAN);if(116===t.codePointAt(o)&&114===t.codePointAt(++o)&&117===t.codePointAt(++o)&&101===t.codePointAt(++o))i.value=!0;else{if(102!==t.codePointAt(o)||97!==t.codePointAt(++o)||108!==t.codePointAt(++o)||115!==t.codePointAt(++o)||101!==t.codePointAt(++o))return null;i.value=!1}return o++,t.index=o,i.close(t),!r||r.type!==X.UNARY_EXPRESSION&&r.type!==X.BINARY_EXPRESSION||r.close(t),i}function w(e,t,n,r){var o=t.index,i=new C(t,X.NULL);return 110!==t.codePointAt(o)||117!==t.codePointAt(++o)||108!==t.codePointAt(++o)||108!==t.codePointAt(++o)?null:(i.value=null,o++,t.index=o,i.close(t),!r||r.type!==X.UNARY_EXPRESSION&&r.type!==X.BINARY_EXPRESSION||r.close(t),i)}function k(e,t,n,o){var a,c,u,l,s,f,d,p=t.index,g=t.length,h=t.codePointAt(p),m=126===h;if(!r(h)&&126!==h&&46!==h&&64!==h)return null;for(c=new C(t,X.INSERT_VAL),m&&p++;p<g;p++)if(h=t.codePointAt(p),a=t.codePointAt(p+1),i(h)){if(s||d)throw t.index=p,t.makeError("Unexpected Token: "+JSON.stringify(t.charAt(p))+".");if(f&&!r(h))throw t.index=p,t.makeError("Unexpected Token: Expected <[A-Za-z]> but found "+JSON.stringify(t.charAt(p))+".");m=!0,f=!1}else if(l||47!==h)if(l||m||46!==h||46!==a)if(l||46!==h){if(64!==h)break;if(l||s||(u=0))throw t.index=p,t.makeError("Unexpected Token: "+JSON.stringify(t.charAt(p))+".");l=!0}else{if(1===u||f)throw t.index=p,t.makeError("Unexpected Token: "+JSON.stringify(t.charAt(p))+".");u=0,f=!0,m||(s=!0)}else{if(p++,s||0===u)throw t.index=p,t.makeError("Unexpected Token: "+JSON.stringify(t.charAt(p))+".");u=1,d=!0,f=!1}else{if(s||0===u||f)throw t.index=p,t.makeError("Unexpected Token: "+JSON.stringify(t.charAt(p))+".");u=1,d=!1,f=!0}return p>t.index?(t.index=p,c.close(t),c.path=c.source(t),!o||o.type!==X.UNARY_EXPRESSION&&o.type!==X.BINARY_EXPRESSION||o.close(t),c):null}function _(e,t,n,r){var o,i,c,u,l,s=t.index,f=t.length,d=s,p=t.codePointAt(s);for(o=s;s<f&&(p=t.codePointAt(s),a(p));s++)if(10===p)return t.index=s,null;if(s===o&&(l=!0),p=t.codePointAt(s),i=t.codePointAt(s+1),c=t.codePointAt(s+2),61===p&&61===i&&61===c||33===p&&61===i&&61===c?(t.index=s,u=new C(t,X.BINARY_EXPRESSION),u.opperator=t.slice(s,s+3),s+=2):61===p&&61===i||33===p&&61===i||60===p&&61===i||62===p&&61===i||38===p&&38===i||124===p&&124===i?(t.index=s,u=new C(t,X.BINARY_EXPRESSION),u.opperator=t.slice(s,s+2),s++):43===p||45===p||42===p||47===p||37===p||60===p||62===p?(t.index=s,u=new C(t,X.BINARY_EXPRESSION),u.opperator=t.charAt(s)):33===p&&(t.index=s,u=new C(t,X.UNARY_EXPRESSION),u.opperator=t.charAt(s),s++),!u||!u.opperator)return l?null:(t.index=s,!0);if(u.type===X.BINARY_EXPRESSION){if(l)throw t.index=d,t.makeError("Unexpected Token: "+JSON.stringify(u.opperator)+" missing whitespace before opperator.",u.opperator.length);if(u.left=n.pop(),!u.left)throw t.index=s,t.makeError("Missing left-hand <arg>.",u.opperator.length);if(u.left.type!==X.STRING&&u.left.type!==X.NUMBER&&u.left.type!==X.BOOLEAN&&u.left.type!==X.INSERT_VAL&&u.left.type!==X.UNARY_EXPRESSION&&u.left.type!==X.BINARY_EXPRESSION&&u.left.type!==X.TRANSFORM)throw t.index=u.left.range[0],t.makeError("Unexpected left-hand <arg>: "+JSON.stringify(u.left.source(t))+".",u.left.length);for(u.range[0]=u.left.range[0],u.loc.start=u.left.loc.start,s++,o=s,p=t.codePointAt(s);s<f&&(p=t.codePointAt(s),a(p));s++)if(10===p)return t.index=s,null;if(s===o)throw t.index=s,t.makeError("Unexpected Token: Expected <whitespace> but found "+JSON.stringify(t.charAt(s))+".")}if(u.arguments=[],t.index=s,U("LOGIC",t,u.arguments,u),u.right=u.arguments[0],u.arguments.length>1)throw t.index=u.arguments[1].range[0],t.makeError("Unexpected Token: "+JSON.stringify(u.arguments[1].source(t))+".",u.arguments[1].length);if(delete u.arguments,!u.closed||!u.right)throw t.index=s,t.makeError("Missing right-hand <arg>.",u.opperator.length);if(u.right.type!==X.STRING&&u.right.type!==X.NUMBER&&u.right.type!==X.BOOLEAN&&u.right.type!==X.INSERT_VAL&&u.right.type!==X.UNARY_EXPRESSION&&u.right.type!==X.TRANSFORM)throw t.index=u.right.range[0],t.makeError("Unexpected right-hand <arg>: "+JSON.stringify(u.right.source(t))+".",u.right.length);return u.type===X.UNARY_EXPRESSION&&(u.argument=u.right,delete u.right,!r||r.type!==X.UNARY_EXPRESSION&&r.type!==X.BINARY_EXPRESSION||r.close(t)),u}function I(e,t,n,r){return 41===t.codePointAt(t.index)?(t.index++,r.close(t),!0):44===t.codePointAt(t.index)?(t.index++,r.close(t),r.nextArg=!0,!0):null}function L(e,t,n,o){var a,c=t.index,u=t.length,l=t.codePointAt(c);if(64!==l)return null;if(a=new C(t,X.TRANSFORM),a.name="",a.arguments=[],c++,!r(t.codePointAt(c)))throw t.index=c,t.makeError("Unexpected Token: Expected <[A-Za-z]> but found "+JSON.stringify(t.charAt(c))+".");for(;c<u&&(l=t.codePointAt(c),i(l));c++)a.name+=t.charAt(c);if(l=t.codePointAt(c),40!==l)return null;for(c++,t.index=c;t.left;){var s=[];if(U("LOGIC-ARGS",t,s,a),s.length>1)throw t.index=s[1].range[0],t.makeError("Unexpected Token: "+JSON.stringify(s[1].source(t))+".",s[1].length);if(a.arguments.push(s[0]),a.nextArg&&(delete a.nextArg,delete a.closed),a.closed)break}return!o||o.type!==X.UNARY_EXPRESSION&&o.type!==X.BINARY_EXPRESSION||o.close(t),a}function U(e,t,n,r){var o,i=t.index;U.level++;e:for(;t.left;){for(var a=0;a<G[e].length;a++)if(o=G[e][a](e,t,n,r)){if(o instanceof C&&n.push(o),r&&r.closed)break e;break}if(i===t.index)throw o=new C(t,"ILLEGAL"),o.close(t),o.value=o.source(t),t.index=o.range[0],t.makeError("ILLEGAL Token: "+JSON.stringify(o.source(t)));i=t.index}U.level--}function M(e,t,n){var r=new B(e,t),o=new C(r,X.FRAGMENT);return o.nodes=[],U(n||"DOM",r,o.nodes),o.close(r),o}var B=e("./code-buffer"),C=e("./token"),j=e("./self-closing-tags"),J=e("./html-entities"),X=e("./token-types"),G={TEXT:[u,E,x,v,y,N,T,P],DOM:[l,s,f,E,x,v,y,N,T,P,d],ATTR:[p,E,x,v,y,N,A,g],VALUE:[h,E,x,v,y,N,P,m],LOGIC:[S,R,O,b,w,L,k,_],"LOGIC-ARGS":[I,R,O,b,w,L,k,_]};U.level=-1,t.exports=M},{"./code-buffer":4,"./html-entities":6,"./self-closing-tags":8,"./token":10,"./token-types":9}],6:[function(e,t,n){t.exports={quot:34,amp:38,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,euro:8364}},{}],7:[function(e,t,n){t.exports=e("./compiler")},{"./compiler":5}],8:[function(e,t,n){t.exports=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]},{}],9:[function(e,t,n){t.exports={TEXT:"TEXT",FRAGMENT:"FRAGMENT",HTML_COMMENT:"HTML-COMMENT",HTML_TAG:"HTML-TAG",HTML_TEXT:"HTML-TEXT",HTML_ATTR:"HTML-ATTR",STRING_TEXT:"STRING-TEXT",BARS_COMMENT:"BARS-COMMENT",BARS_BLOCK:"BARS-BLOCK",BARS_ELSE:"BARS-ELSE",BARS_INSERT:"BARS-INSERT",BARS_PARTIAL:"BARS-PARTIAL",STRING:"STRING",NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",NULL:"NULL",INSERT_VAL:"INSERT-VAL",UNARY_EXPRESSION:"UNARY-EXPRESSION",BINARY_EXPRESSION:"BINARY-EXPRESSION",TRANSFORM:"TRANSFORM"}},{}],10:[function(e,t,n){function r(e,t){this.type=t,this.range=[e.index,e.index+1],this.loc={start:{line:e.line,column:e.column},end:{line:e.line,column:e.column+1}}}r.prototype={get length(){return this.range[1]-this.range[0]},source:function(e){return e.slice(this.range[0],this.range[1])},close:function(e){this.closed=!0,e.index>this.range[1]&&(this.range[1]=e.index,this.loc.end={line:e.line,column:e.column})},toJSON:function(){return delete this.range,delete this.loc,delete this.closed,this}},t.exports=r},{}],11:[function(e,t,n){function r(e){if(e){if(e.type===a.INSERT_VAL)return e.path;if(e.type===a.UNARY_EXPRESSION)return r(e.argument);if(e.type===a.BINARY_EXPRESSION){var t=r(e.left);if(t.type===a.INSERT_VAL)return t.argument;var n=r(e.right);if(n.type===a.INSERT_VAL)return n.argument}else if(e.type===a.TRANSFORM)for(var o=0;o<e.arguments.length;o++){var i=r(e.arguments[o]);if(i.type===a.INSERT_VAL)return i.argument}}return""}function o(e){var t;if(e instanceof Array)t=e;else{if("string"!=typeof e)throw"bad arrgument: expected String | Array<String>.";t=e.match(/[\/]|[.][.]/)?e.split("/"):e.split("."),t[0]||t[1]||(t=["."]);var n=t.pop().split("@");n[0]&&t.push(n[0]),n[1]&&t.push("@"+n[1])}return t}var i=e("generate-js"),a=e("./compiler/token-types"),c=e("./runtime/execute"),u=e("./runtime/context"),l={},s=[],f={FRAGMENT:"FRAG","HTML-TAG":"TAG","HTML-TEXT":"TEXT","HTML-ATTR":"ATTR","STRING-TEXT":"TEXT","BARS-BLOCK":"BLOCK","BARS-INSERT":"TEXT","BARS-PARTIAL":"PARTIAL"},d=i.generate(function(e,t,n){var r=this;r.defineProperties({fragment:e||null,bars:t,nodes:[],parentTag:{get:r.getParentTag},prevDom:{get:r.getPrevDom},type:n.type,name:n.name,value:n.value,arg:n.argument,conFrag:n.consequent,altFrag:n.alternate})});d.definePrototype({update:function(e){var t=this;t.previousDom=null,t._update(e),t.isDOM&&(t._elementAppendTo(),t.parentTag.previousDom=t),t.previousDom=null},_update:function(){console.warn("_update method not implemented.")},appendChild:function(e){var t=this;t.nodes.push(e),e.parent=t},appendTo:function(e){var t=this;e instanceof Element&&t._elementAppendTo(e),d.isCreation(e)&&e.appendChild(t)},remove:function(){var e=this,t=e.parent.nodes.indexOf(e);t>=0&&e.parent.nodes.splice(t,1),e._elementRemove()},getParentTag:function(){for(var e=this,t=e.parent,n=t;t&&!t.isDOM;)n=t,t=t.parent;return t||n||null},getPrevDom:function(){var e=this;return e.parentTag&&e.parentTag.previousDom||null},_elementAppendTo:function(e){var t=this;if(t.parentTag&&(e=e||t.parentTag.$el||t.parentTag.$parent,e&&!t.$el.parentElement)){var n=t.prevDom;n?e.insertBefore(t.$el,n.$el.nextSibling):e.appendChild(t.$el)}},_elementRemove:function(){var e=this;e.isDOM&&e.$el.parentNode instanceof Element&&e.$el.parentNode.removeChild(e.$el)}}),l.TEXT=d.generate(function(e,t,n){var r=this;d.call(this,e,t,n),r.defineProperties({$el:document.createTextNode(n.value)})}),l.TEXT.definePrototype({isDOM:!0,appendChild:function(e){console.warn("appendChild CANNOT be called on TextNodes.")},_update:function(e){var t=this;t.arg&&(t.$el.textContent=c(t.arg,t.bars.transforms,e))}}),l.TAG=d.generate(function(e,t,n){var r,o=this,i=n.nodes||s,a=n.attrs||s;for(d.call(this,e,t,n),o.defineProperties({$el:document.createElement(n.name),attrs:[]}),r=0;r<i.length;r++){var c=i[r];o.appendChild(new l[f[c.type]](e,t,c))}for(r=0;r<a.length;r++){var u=a[r];o.addAttr(new l[f[u.type]](e,t,u))}}),l.TAG.definePrototype({isDOM:!0,_update:function(e){var t,n=this;for(t=0;t<n.attrs.length;t++)n.attrs[t].update(e);for(t=0;t<n.nodes.length;t++)n.nodes[t].update(e)},addAttr:function(e){var t=this;t.attrs.push(e),e.parent=t}}),l.ATTR=d.generate(function(e,t,n){var r=this,o=n.nodes||s;d.call(this,e,t,n),r.defineProperties({$el:document.createElement("div")});for(var i=0;i<o.length;i++){var a=o[i];r.appendChild(new l[f[a.type]](e,t,a))}}),l.ATTR.definePrototype({isDOM:!0,type:"ATTR",_update:function(e){var t,n=this;for(t=0;t<n.nodes.length;t++)n.nodes[t].update(e)},_elementAppendTo:function(){var e=this,t=e.parentTag.$el;t instanceof Element&&t.setAttribute(e.name,e.$el.textContent)},_elementRemove:function(){var e=this,t=e.parentTag.$el;t instanceof Element&&t.removeAttribute(e.name)}}),l.BLOCK=d.generate(function(e,t,n){var i=this;d.call(this,e,t,n),i.path=o(r(i.arg))}),l.BLOCK.definePrototype({type:"BLOCK",createFragment:function(e){var t=this,n=new l.FRAG(t.fragment,t.bars,t.conFrag);return t.appendChild(n),n},_update:function(e){var t,n,r,o=this;if("function"!=typeof o.bars.blocks[o.name])throw new Error("Block helper not found: "+o.name);if(n=c(o.arg,o.bars.transforms,e),t=o.bars.blocks[o.name].call(o,n)){for(o.nodes.length||o.createFragment(),r=0;r<o.nodes.length;r++)o.nodes[r].update(e);o.alternate&&o.alternate._elementRemove()}else{for(r=0;r<o.nodes.length;r++)o.nodes[r]._elementRemove();o.alternate||(o.alternate=new l.FRAG(o.fragment,o.bars,o.altFrag||{}),o.alternate.parent=o),o.alternate.update(e)}},_elementAppendTo:function(){},_elementRemove:function(){var e,t=this;for(e=0;e<t.nodes.length;e++)t.nodes[e]._elementRemove();t.alternate&&t.alternate._elementRemove()}}),l.PARTIAL=d.generate(function(e,t,n){var i=this;d.call(this,e,t,n),i.path=o(r(i.arg))}),l.PARTIAL.definePrototype({_update:function(e){var t=this;if(!t.partial){var n=t.bars.partials[t.name];if(!n||"object"!=typeof n)throw new Error("Partial not found: "+t.name);t.partial=new l.FRAG(t.fragment,t.bars,n.struct),t.partial.parent=t,(1===t.path.length&&"this"!==t.path[0]&&"."!==t.path[0]&&""!==t.path[0]||t.path.length>1)&&(t.partial.context.path=t.path)}var r=c(t.arg,t.bars.transforms,e);t.partial.context.data=r,t.partial.update(e)},_elementRemove:function(){var e=this;e.partial&&e.partial._elementRemove()}}),l.FRAG=d.generate(function(e,t,n){var r=this,o=n.nodes||s;d.call(this,e,t,n),r.context=new u(null,r,"");for(var i=0;i<o.length;i++){var a=o[i];f[a.type]&&r.appendChild(new l[f[a.type]](r,t,a))}}),l.FRAG.definePrototype({_update:function(e){var t=this;u.isCreation(e)||(t.context.data=e);for(var n=0;n<t.nodes.length;n++)t.nodes[n].update(t.context);t.context.data=null},_elementAppendTo:function(e){var t=this;t.$parent=e},_elementRemove:function(){for(var e=this,t=0;t<e.nodes.length;t++)e.nodes[t]._elementRemove();e.$parent=null}}),t.exports=l.FRAG},{"./compiler/token-types":9,"./runtime/context":13,"./runtime/execute":14,"generate-js":17}],12:[function(e,t,n){var r=e("generate-js"),o=e("./frag"),i=r.generate(function(e,t){var n=this;n.defineProperties({bars:e,struct:t})});i.definePrototype({render:function(){var e=this;return new o(null,e.bars,e.struct)}}),t.exports=i},{"./frag":11,"generate-js":17}],13:[function(e,t,n){function r(e,t){for(e=e.slice(),t=t.slice();e.length&&".."===t[0];)t.shift(),e.pop();return e.concat(t)}function o(e){var t;if(e instanceof Array)t=e;else{if("string"!=typeof e)throw"bad arrgument: expected String | Array<String>.";t=e.match(/[\/]|[.][.]/)?e.split("/"):e.split("."),t[0]||t[1]||(t=["."]);var n=t.pop().split("@");n[0]&&t.push(n[0]),n[1]&&t.push("@"+n[1])}return t}var i=e("generate-js"),a=i.generate(function(e,t,n){var r=this;r.data=e,r.fragment=t,r.context=null,r.path=n,r.__path=[],r.props={get key(){return!r.path.length&&r.context?r.context.props.key:r.path[r.path.length-1]},get index(){return!r.path.length&&r.context?r.context.props.index:r.path[r.path.length-1]}}});a.definePrototype({path:{get:function(){return this.__path||[]},set:function e(e){var t=this;e=o(e);var n=t.fragment;if(t.data=null,t.context=null,"~"===e[0]&&n.fragment){for(;n.fragment;)n=n.fragment;t.context=n.context,e.shift()}else if(".."===e[0]&&n.fragment&&n.fragment.fragment)for(t.context=n.fragment.context;".."===e[0]&&t.context.context;)e=r(t.context.path,e),t.context=t.context.context;t.__path=e}},lookup:function(e){var t=this;if(e=o(e),!t.context&&t.fragment.fragment&&(t.context=t.fragment.fragment.context),"~"===e[0]&&t.context)return t.context.lookup(e);if(".."===e[0]&&t.context)return t.context.lookup(r(t.path,e));if("this"!==e[0]&&"."!==e[0]&&"~"!==e[0]||e.shift(),!t.data&&t.context&&(t.data=t.context.lookup(t.path)),t.data){for(var n=t.data,i=0;n&&i<e.length;i++)n="@"===e[i][0]?t.props[e[i].slice(1)]:null!==n&&void 0!==n?n[e[i]]:void 0;return n}}}),t.exports=a},{"generate-js":17}],14:[function(e,t,n){function r(e,t,n){function r(e){var a,c=[];if(e.type===o.STRING||e.type===o.NUMBER||e.type===o.BOOLEAN||e.type===o.NULL)a=e.value;else if(e.type===o.INSERT_VAL)a=n.lookup(e.path);else if(e.type===o.UNARY_EXPRESSION)a=i[e.opperator](r(e.argument));else if(e.type===o.BINARY_EXPRESSION)a="||"===e.opperator?r(e.left)||r(e.right):"&&"===e.opperator?r(e.left)&&r(e.right):i[e.opperator](r(e.left),r(e.right));else if(e.type===o.TRANSFORM){for(var u=0;u<e.arguments.length;u++)c.push(r(e.arguments[u]));if(!(t[e.name]instanceof Function))throw'Missing Transfrom: "'+e.name+'".';a=t[e.name].apply(null,c)}return a}return e?r(e):n.lookup(".")}var o=e("../compiler/token-types"),i=e("./logic");t.exports=r},{"../compiler/token-types":9,"./logic":15}],15:[function(e,t,n){n.add=function(e,t){return e+t},n.subtract=function(e,t){return e-t},n.multiply=function(e,t){return e*t},n.devide=function(e,t){return e/t},n.mod=function(e,t){return e%t},n["+"]=n.add,n["-"]=n.subtract,n["*"]=n.multiply,n["/"]=n.devide,n["%"]=n.mod,n.not=function(e){return!e},n["!"]=n.not,n.or=function(e,t){return e||t},n.and=function(e,t){return e&&t},n["||"]=n.or,n["&&"]=n.and,n.strictequals=function(e,t){return e===t},n.strictnotequals=function(e,t){return e!==t},n["==="]=n.strictequals,n["!=="]=n.strictnotequals,n.equals=function(e,t){return e==t},n.notequals=function(e,t){return e!=t},n.ltequals=function(e,t){return e<=t},n.gtequals=function(e,t){return e>=t},n["=="]=n.equals,n["!="]=n.notequals,n["<="]=n.ltequals,n[">="]=n.gtequals,n.lt=function(e,t){return e<t},n.gt=function(e,t){return e>t},n["<"]=n.lt,n[">"]=n.gt},{}],16:[function(e,t,n){var r=e("generate-js"),o=r.generate(function(){});o.definePrototype({
log:function(e){console.log("Bars: ",e)},upperCase:function(e){return String(e).toUpperCase()},lowerCase:function(e){return String(e).toLowerCase()},number:function(e){return Number(e)},string:function(e){return String(e)},sort:function(e,t){return e.sort(function(e,n){return t?e[t]<n[t]?-1:e[t]>n[t]?1:0:e<n?-1:e>n?1:0})}}),t.exports=o},{"generate-js":17}],17:[function(e,t,n){!function(){function e(e,t){if(typeof e!==t)throw new TypeError("Expected '"+t+"' but instead found '"+typeof e+"'")}function r(e){var t,n;return!!(e&&"object"==typeof e&&(t=Object.getOwnPropertyNames(e).sort(),n=t.length,1===n&&("get"===t[0]&&"function"==typeof e.get||"set"===t[0]&&"function"==typeof e.set)||2===n&&"get"===t[0]&&"function"==typeof e.get&&"set"===t[1]&&"function"==typeof e.set))}function o(e,t,n){var o,i,a,c={},u=n||t,l=n&&t;for(n=u&&"object"==typeof u?u:{},t=l&&"object"==typeof l?l:{},i=Object.getOwnPropertyNames(n),a=i.length,o=0;o<a;o++)r(n[i[o]])?c[i[o]]={configurable:!!t.configurable,enumerable:!!t.enumerable,get:n[i[o]].get,set:n[i[o]].set}:c[i[o]]={configurable:!!t.configurable,enumerable:!!t.enumerable,writable:!!t.writable,value:n[i[o]]};return Object.defineProperties(e,c),e}function i(){}var a={defineProperties:function(e,t){return o(this,e,t),this},getProto:function(){return Object.getPrototypeOf(this)},getSuper:function(){return Object.getPrototypeOf(this.constructor.prototype)}},c={isGeneration:function(t){e(t,"function");var n=this;return n.prototype.isPrototypeOf(t.prototype)},isCreation:function(e){var t=this;return e instanceof t},generate:function(t){e(t,"function");var n=this;return o(t,{configurable:!1,enumerable:!1,writable:!1},{prototype:Object.create(n.prototype)}),o(t,{configurable:!1,enumerable:!1,writable:!1},c),o(t.prototype,{configurable:!1,enumerable:!1,writable:!1},{constructor:t,generator:t}),t},definePrototype:function(e,t){return o(this.prototype,e,t),this}};o(i,{configurable:!1,enumerable:!1,writable:!1},{prototype:i.prototype}),o(i.prototype,{configurable:!1,enumerable:!1,writable:!1},a),o(i,{configurable:!1,enumerable:!1,writable:!1},c),o(i,{configurable:!1,enumerable:!1,writable:!1},{isGenerator:function(e){return this.isGeneration(e)},toGenerator:function(t,n){return e(t,"function"),e(n,"function"),o(n,{configurable:!1,enumerable:!1,writable:!1},{prototype:Object.create(t.prototype)}),o(n,{configurable:!1,enumerable:!1,writable:!1},c),o(n.prototype,{configurable:!1,enumerable:!1,writable:!1},{constructor:construct,generator:construct}),o(n.prototype,{configurable:!1,enumerable:!1,writable:!1},a),n}}),Object.freeze(i),Object.freeze(i.prototype),"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof t&&"object"==typeof n?t.exports=i:window.Generator=i}()},{}]},{},[2]);