!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){var r=e("generate-js"),o=e("./renderer"),i=e("./blocks"),a=e("./transforms"),s=e("../package"),u=r.generate(function(){var e=this;e.defineProperties({blocks:new i,partials:{},transforms:new a})});u.definePrototype({version:s.version,build:function(e){var t=this;return new o(t,e)},registerBlock:function(e,t){var n=this;n.blocks[e]=t},registerPartial:function(e,t){var n=this;n.partials[e]=n.compile(t)},registerTransform:function(e,t){var n=this;n.transforms[e]=t}}),t.exports=window.Bars=u},{"../package":55,"./blocks":3,"./renderer":42,"./transforms":47,"generate-js":54}],2:[function(e,t,n){var r=e("./bars-runtime"),o=e("./compiler/compiler3");r.definePrototype({compile:function(e,t,n,r){var o=this;return o.build(o.parse(e,t,n,r).fragment)},parse:function(e,t,n,r){return o(e,t,n,r)}})},{"./bars-runtime":1,"./compiler/compiler3":4}],3:[function(e,t,n){var r=e("generate-js"),o=r.generate(function(){});o.definePrototype({if:function(e){return e},with:function(e){var t=this;if(e&&"object"==typeof e){if(!t.nodes[0]){var n=t.createFragment(),r=t.path.slice();n.context.path=r}return t.nodes[0].context.data=e,!0}return!1},each:function(e){var t,n=this;if(e&&"object"==typeof e){var r=Object.keys(e);if(r.length){for(t=n.nodes.length-1;t>=r.length;t--)n.nodes[t].remove();for(t=n.nodes.length;t<r.length;t++)n.createFragment(r[t]);for(t=0;t<r.length;t++){var o=n.path.slice();o.push(r[t]),n.nodes[t].context.path=o,n.nodes[t].context.data=e[r[t]]}return!0}}return!1}}),t.exports=o},{"generate-js":54}],4:[function(e,t,n){function r(e,t,n,r){n=n||"DOM",r=r||{};var o=new a.tokens.program,i=new a.tokens.fragment;return i.nodesUpdate=1,o.mode=n,o.fragment=i,i.nodes=u.compile(e,t,n,r),o}var o=e("compileit"),i=e("./parsers"),a=e("./tokens"),s={TEXT:[i.parseText,i.parseBarsMarkup],BARS:[i.parseBarsComment,i.parseBarsBlock,i.parseBarsPartial,i.parseBarsInsert],DOM:[i.parseText,i.parseHTMLComment,i.parseHTMLTag,i.parseBarsMarkup],ATTR:[i.parseHTMLTagEnd,i.parseWhitspace,i.parseHTMLAttr,i.parseBarsMarkup],VALUE:[i.parseHTMLAttrEnd,i.parseText,i.parseBarsMarkup],LOGIC:[i.parseBarsMarkupEnd,i.parseExpressionTransform,i.parseExpressionValue,i.parseExpressionLiteral,i.parseExpressionOpperator,i.parseWhitspace],"LOGIC-ARGS":[i.parseExpressionTransformEnd,i.parseExpressionTransform,i.parseExpressionValue,i.parseExpressionLiteral,i.parseExpressionOpperator,i.parseWhitspace]},u=new o.Compiler(s,{modeFormater:function(e){return e.green},charFormater:function(e){return e.green.underline},funcFormater:function(e){return e.red},typeFormater:function(e){return e.red},sourceFormater:function(e){return("`"+e+"`").green.underline}});t.exports=r},{"./parsers":21,"./tokens":27,compileit:48}],5:[function(e,t,n){function r(e,t,n,o,u,c){var l,p,f,d,m,g=t.index+2,h=t.length,v=o.markup.mode;if(47===t.codePointAt(g))f=!0,o.markup.closeParseScope=!0;else{if(!(35===t.codePointAt(g)||u.token&&u.token.alternateIsBlock)){if(101===t.codePointAt(g)&&108===t.codePointAt(++g)&&115===t.codePointAt(++g)&&101===t.codePointAt(++g)){if(d=!0,s.isWhitespace(t.codePointAt(g+1))?(g+=2,m=!0):125===t.codePointAt(++g)&&125===t.codePointAt(++g)&&g++,l=new i(t),t.index=g,l.close(),!i.isCreation(u.token)||u.token.elsed)throw t.makeError(l.range[0],l.range[1],"Unexpected Token: "+JSON.stringify(l.source(t))+".");return u.token.elsed=!0,u.token.alternateIsBlock=m,o.markup.closeParseScope=!0,u.close(),c.close(),!0}return null}p=!0}if(u.token&&u.token.alternateIsBlock?g-=2:g++,l=new i(t),!s.isHTMLIdentifierStart(t.codePointAt(g)))throw t.makeError(g,g+1,"Unexpected Token: Expected <[A-Za-z]> but found "+JSON.stringify(t.charAt(g))+".");for(;g<h&&(ch=t.codePointAt(g),s.isHTMLIdentifier(ch));g++)l.name+=t.charAt(g);if(f){if(125!==t.codePointAt(g)||125!==t.codePointAt(++g))throw t.makeError(g,g+1,"Unexpected Token: Expected "+JSON.stringify("}}")+" but found "+JSON.stringify(t.charAt(g))+".");if(g++,t.index=g,l.close(),!i.isCreation(u.token))throw t.makeError(l.range[0],l.range[1],"Unexpected Closing Block: "+JSON.stringify(l.source(t))+".");if(u.token.name!==l.name)throw t.makeError(l.range[0],l.range[1],"Mismatch Closing Block: Expected "+JSON.stringify("{{/"+u.token.name+"}}")+" but found "+JSON.stringify(l.source(t))+".");return u.close(),c.close(),!0}s.isWhitespace(t.codePointAt(g))&&g++,t.index=g;var x=[];if(u.push(l),c("LOGIC",x,o),l.expression=x[0],x.length>1)throw t.makeError(x[1].range[0],x[1].range[1],"Unexpected Token: "+JSON.stringify(x[1].source(t))+".");if(x=null,!l.closed)throw t.makeError(t.index,t.index+1,"Unclosed Block: Expected "+JSON.stringify("}}")+" but found "+JSON.stringify(t.charAt(t.index))+".");if(!l.expression)throw t.makeError(t.index-2,t.index-1,"Missing <expression>.");if(l.consequent=new a(t),delete l.closed,u.push(l),c(v,l.consequent.nodes,o),g=t.index,l.consequent.close(),t.index=g,l.elsed){if(l.alternateIsBlock)return delete l.closed,u.push(l),o.markup={mode:v},l.alternate=r(e,t,[],o,u,c),delete o.markup,u.close(),l;l.alternate=new a(t),delete l.closed,u.push(l),c(v,l.alternate.nodes,o),g=t.index,l.alternate.close()}if(!l.closed)throw t.makeError(l.range[0],l.range[0]+l.name.length+6+l.expression.length,"Unclosed Block: Expected "+JSON.stringify("{{/"+l.name+"}}")+" to fallow "+JSON.stringify("{{#"+l.name+" <expression>}}")+".");return c.close(),l}var o=e("../tokens"),i=o.tokens.block,a=o.tokens.fragment,s=e("../utils");t.exports=r},{"../tokens":27,"../utils":39}],6:[function(e,t,n){function r(e,t,n,r,o,i){var a=t.index+2,s=t.length;if(33===t.codePointAt(a)){if(45===t.codePointAt(++a)&&45===t.codePointAt(++a)){for(a++;a<s;a++)if(45===t.codePointAt(a)&&45===t.codePointAt(a+1)&&125===t.codePointAt(a+2)&&125===t.codePointAt(a+3))return a+=4,t.index=a,i.close(),r.keepComments,!0;throw t.makeError('Unclosed Comment: Expected "--}}" to fallow "{{!--".',5)}for(a++;a<s;a++)if(125===t.codePointAt(a)&&125===t.codePointAt(a+1))return a+=2,t.index=a,i.close(),r.keepComments,!0;throw t.makeError(t.index,t.index+3,'Unclosed Comment: Expected "}}" to fallow "{{!".')}return null}t.exports=r},{}],7:[function(e,t,n){function r(e,t,n,r,i,a){var s=t.index+2,u=(t.length,new o(t)),c=[];if(i.push(u),t.index=s,a("LOGIC",c,r),c.length>1)throw t.index=c[1].range[0],t.makeError(c[1].range[0],c[1].range[1],"Unexpected Token: "+JSON.stringify(c[1].source(t))+".");if(u.expression=c[0],c=null,!u.closed)throw t.makeError(t.index,t.index+1,"Unclosed Block: Expected "+JSON.stringify("}}")+" but found "+JSON.stringify(t.charAt(t.index))+".");if(!u.expression)throw t.makeError(t.index-2,t.index-1,"Missing <expression>.");return a.close(),u}var o=e("../tokens").tokens.insert;t.exports=r},{"../tokens":27}],8:[function(e,t,n){function r(e,t,n,r,i,a){return 125===t.codePointAt(t.index)&&125===t.codePointAt(t.index+1)&&(o.tokens.insert.isCreation(i.token)||o.tokens.block.isCreation(i.token)||o.tokens.partial.isCreation(i.token))?(t.index+=2,i.close(),a.close(),!0):null}var o=e("../tokens");t.exports=r},{"../tokens":27}],9:[function(e,t,n){function r(e,t,n,r,o,i){var a=t.index;t.length;if(123===t.codePointAt(a)&&123===t.codePointAt(++a)){if(r.markup={},r.markup.mode=e,i("BARS",n,r),t.index>a)return r.markup&&r.markup.closeParseScope&&i.close(),delete r.markup,o.token&&o.token.updates(),!0;delete r.markup}return null}t.exports=r},{}],10:[function(e,t,n){function r(e,t,n,r,a,s){var u,c=t.index+2,l=t.length;if(62===t.codePointAt(c)){if(u=new o(t),c++,!i.isHTMLIdentifierStart(t.codePointAt(c)))throw t.makeError(c,c+1,"Unexpected Token: Expected <[A-Za-z]> but found "+JSON.stringify(t.charAt(c))+".");for(;c<l&&(ch=t.codePointAt(c),i.isHTMLIdentifier(ch));c++)u.name+=t.charAt(c);t.index=c;var p=[];if(a.push(u),s("LOGIC",p,r),p.length>1)throw t.makeError(p[1].range[0],p[1].range[1],"Unexpected Token: "+JSON.stringify(p[1].source(t))+".");if(u.expression=p[0]||null,p=null,!u.closed)throw t.makeError(c,c+1,"Unclosed Block: Expected "+JSON.stringify("}}")+" but found "+JSON.stringify(t.charAt(t.index))+".");return s.close(),u}return null}var o=e("../tokens").tokens.partial,i=e("../utils");t.exports=r},{"../tokens":27,"../utils":39}],11:[function(e,t,n){function r(e,t,n,r,o,i){var a,s,u=t.index,p=t.length;if(39!==t.codePointAt(u))return null;for(u++,s=new c(t),s.value="";u<p;u++){if(a=t.codePointAt(u),10===a)return t.index=u,null;if(39===a&&92!==t.codePointAt(u-1)){u++;break}s.value+=t.charAt(u)}return u>t.index?(t.index=u,s.close(),l.isCreation(o.token)&&(o.close(),i.close()),s):null}function o(e,t,n,r,o,i){var a,s,u=t.index,p=t.length,f=t.codePointAt(u),d=t.codePointAt(u+1);if(45===f&&48<=d&&d<=57||48<=f&&f<=57){for(u++,number=new c(t);u<p;u++)if(f=t.codePointAt(u),!(48<=f&&f<=57))if(69===f||101===f){if(u++,f=t.codePointAt(u),d=t.codePointAt(u+1),s||!((43===f||45===f)&&48<=d&&d<=57||48<=f&&f<=57))throw t.index=u-1,t.makeError("Unexpected Token: "+JSON.stringify(t.charAt(u-1))+".");s=!0}else{if(46!==f)break;if(u++,f=t.codePointAt(u),s||a||!(48<=f&&f<=57))throw t.index=u-1,t.makeError('Unexpected Token: ".".');a=!0}return t.index=u,number.close(),number.value=Number(number.source(t)),l.isCreation(o.token)&&(o.close(),i.close()),number}return null}function i(e,t,n,r,o,i){var a,s=t.index;if(116===t.codePointAt(s)&&114===t.codePointAt(++s)&&117===t.codePointAt(++s)&&101===t.codePointAt(++s))a=!0;else{if(102!==t.codePointAt(s)||97!==t.codePointAt(++s)||108!==t.codePointAt(++s)||115!==t.codePointAt(++s)||101!==t.codePointAt(++s))return null;a=!1}var u=new c(t);return s++,t.index=s,u.close(),u.value=a,l.isCreation(o.token)&&(o.close(),i.close()),a}function a(e,t,n,r,o,i){var a,s=t.index;return 110!==t.codePointAt(s)||117!==t.codePointAt(++s)||108!==t.codePointAt(++s)||108!==t.codePointAt(++s)?null:(s++,a=new c(t),t.index=s,a.close(),a.value=null,l.isCreation(o.token)&&(o.close(),i.close()),a)}function s(e,t,n,s,u,c){return r(e,t,n,s,u,c)||o(e,t,n,s,u,c)||i(e,t,n,s,u,c)||a(e,t,n,s,u,c)}var u=e("../tokens"),c=u.tokens.literal,l=u.tokens.opperator;t.exports=s},{"../tokens":27}],12:[function(e,t,n){function r(e,t,n,r,o,l){var p,f,d,m,g,h=t.index,v=t.length,x=h,k=t.codePointAt(h);for(p=h;h<v&&(k=t.codePointAt(h),c.isWhitespace(k));h++)if(r.whitepaceString&&10===k)return t.index=h,null;if(h===p&&(g=!0),k=t.codePointAt(h),f=t.codePointAt(h+1),d=t.codePointAt(h+2),61===k&&61===f&&61===d||33===k&&61===f&&61===d?(t.index=h,m=new s(t),m.opperator=t.slice(h,h+3),m.binary=!0,h+=2):61===k&&61===f||33===k&&61===f||60===k&&61===f||62===k&&61===f||38===k&&38===f||124===k&&124===f?(t.index=h,m=new s(t),m.opperator=t.slice(h,h+2),m.binary=!0,h++):43===k||45===k||42===k||47===k||37===k||60===k||62===k?(t.index=h,m=new s(t),m.opperator=t.charAt(h),m.binary=!0):33===k&&(t.index=h,m=new s(t),m.opperator=t.charAt(h),m.unary=!0,h++),!m||!m.opperator)return g?null:(t.index=h,!0);if(m.binary){if(g)throw t.makeError(x,x+m.opperator.length,"Unexpected Token: "+JSON.stringify(m.opperator)+" missing whitespace before opperator.");if(m.arguments[0]=n.pop(),!m.arguments[0])throw t.makeError(h,h+m.opperator.length,"Missing left-hand <arg>.");if(!(i.isCreation(m.arguments[0])||a.isCreation(m.arguments[0])||s.isCreation(m.arguments[0])||u.isCreation(m.arguments[0])))throw t.makeError(m.arguments[0].range[0],m.arguments[0].range[1],"Unexpected left-hand <arg>: "+JSON.stringify(m.arguments[0].source(t))+".");for(m.range[0]=m.arguments[0].range[0],m.loc.start=m.arguments[0].loc.start,h++,p=h,k=t.codePointAt(h);h<v&&(k=t.codePointAt(h),c.isWhitespace(k));h++)if(r.whitepaceString&&10===k)return t.index=h,null;if(h===p)throw t.makeError(h,h+1,"Unexpected Token: Expected <whitespace> but found "+JSON.stringify(t.charAt(h))+".")}var y=[];if(t.index=h,o.push(m),l("LOGIC",y,r),m.arguments[1]=y[0],y.length>1)throw t.makeError(y[1].range[0],y[1].range[1],"Unexpected Token: "+JSON.stringify(y[1].source(t))+".");if(y=null,!m.closed||!m.arguments[1])throw t.index=h,t.makeError(h,h+m.opperator.length,"Missing right-hand <arg>.");if(!(i.isCreation(m.arguments[1])||a.isCreation(m.arguments[1])||s.isCreation(m.arguments[1])||u.isCreation(m.arguments[1])))throw t.makeError(m.arguments[1].range[0],m.arguments[1].range[1],"Unexpected right-hand <arg>: "+JSON.stringify(m.arguments[1].source(t))+".");return m.unary&&s.isCreation(o.token)&&(o.close(),l.close()),m}var o=e("../tokens"),i=o.tokens.value,a=o.tokens.literal,s=o.tokens.opperator,u=o.tokens.transform,c=e("../utils");t.exports=r},{"../tokens":27,"../utils":39}],13:[function(e,t,n){function r(e,t,n,r,i,a){return 41===t.codePointAt(t.index)&&o.tokens.transform.isCreation(i.token)?(t.index++,i.close(),a.close(),!0):44===t.codePointAt(t.index)&&o.tokens.transform.isCreation(i.token)?(t.index++,i.token.nextArg=!0,a.close(),!0):null}var o=e("../tokens");t.exports=r},{"../tokens":27}],14:[function(e,t,n){function r(e,t,n,r,o,u){var c,l=t.index,p=t.length,f=t.codePointAt(l);if(64!==f)return null;if(l++,!s.isHTMLIdentifierStart(t.codePointAt(l)))return null;for(c=new i(t);l<p&&(f=t.codePointAt(l),s.isHTMLIdentifier(f));l++)c.name+=t.charAt(l);if(f=t.codePointAt(l),40!==f)return null;for(l++,t.index=l,o.push(c);t.left;){var d=[];if(u("LOGIC-ARGS",d,r),d.length>1)throw t.index=d[1].range[0],t.makeError(d[1].range[0],d[1].range[1],"Unexpected Token: "+JSON.stringify(d[1].source(t))+".");if(c.arguments.push(d[0]),c.nextArg&&(delete c.nextArg,delete c.closed),c.closed)break}return a.isCreation(o.token)&&(o.close(),u.close()),c}var o=e("../tokens"),i=o.tokens.transform,a=o.tokens.opperator,s=e("../utils");t.exports=r},{"../tokens":27,"../utils":39}],15:[function(e,t,n){function r(e,t,n,r,o,u){var c,l,p,f,d,m,g=t.index,h=t.length,v=t.codePointAt(g),x=126===v,k=64===v;if(!s.isHTMLIdentifierStart(v)&&!x&&!k&&46!==v)return null;l=new i(t);var y=[],A="";for((x||k)&&(y.push(t.charAt(g)),g++);g<h;g++)if(v=t.codePointAt(g),c=t.codePointAt(g+1),s.isHTMLIdentifier(v)){if(!d&&(f||m))throw t.makeError(g,g+1,"Unexpected Token: "+JSON.stringify(t.charAt(g))+".");if(d&&!s.isHTMLIdentifierStart(v))throw t.makeError(g,g+1,"Unexpected Token: Expected <[A-Za-z]> but found "+JSON.stringify(t.charAt(g))+".");A+=t.charAt(g),x=!0,d=!1}else if(x&&k||!(x||m||f)||47!==v)if(x||46!==v||46!==c){if(k||46!==v)break;if(1===p||d)throw t.makeError(g,g+1,"Unexpected Token: "+JSON.stringify(t.charAt(g))+".");x&&(p=0,d=!0,A&&(y.push(A),A="")),f=!0}else{if(f||0===p)throw t.makeError(g,g+1,"Unexpected Token: "+JSON.stringify(t.charAt(g))+".");g++,y.push(".."),p=1,m=!0,d=!1}else{if(0===p||d)throw t.makeError(g,g+1,"Unexpected Token: "+JSON.stringify(t.charAt(g))+".");A&&(y.push(A),A=""),p=1,m=!1,d=!0}return A&&(y.push(A),A=""),g>t.index?(t.index=g,l.close(),l.path=y,a.isCreation(o.token)&&(o.close(),u.close()),l):null}var o=e("../tokens"),i=o.tokens.value,a=o.tokens.opperator,s=e("../utils");t.exports=r},{"../tokens":27,"../utils":39}],16:[function(e,t,n){function r(e,t,n,r,o,i){return 34===t.codePointAt(t.index)?(t.index++,o.close(),i.close(),!0):null}t.exports=r},{}],17:[function(e,t,n){function r(e,t,n,r,o,s){var u,c=t.index,l=t.length;if(!a.isHTMLIdentifierStart(t.codePointAt(c)))return null;for(u=new i(t);c<l&&a.isHTMLIdentifier(t.codePointAt(c));c++)u.name+=t.charAt(c);if(u.name){if(61===t.codePointAt(c)){if(c++,34!==t.codePointAt(c))throw t.makeError(c,c+1,'Unexpected Token: Expected """ but found '+JSON.stringify(t.charAt(c)));c++,t.index=c,o.push(u),r.whitepaceString=!0,s("VALUE",u.nodes,r),delete r.whitepaceString}else t.index=c,u.close();if(!u.closed)throw t.makeError(u.range[0]+u.name.length+1,u.range[0]+u.name.length+2,'Unclosed String: Expected """ to fallow """');return o.token&&u.nodesUpdate&&o.token.updates("attr"),u}return null}var o=e("../tokens"),i=o.tokens.attr,a=e("../utils");t.exports=r},{"../tokens":27,"../utils":39}],18:[function(e,t,n){function r(e,t,n,r,o,i){var a=t.index,s=t.length;if(60===t.codePointAt(a)&&33===t.codePointAt(++a)&&45===t.codePointAt(++a)&&45===t.codePointAt(++a)){for(a++;a<s;a++)if(45===t.codePointAt(a)&&45===t.codePointAt(a+1)&&62===t.codePointAt(a+2))return a+=3,t.index=a,!0;throw t.makeError(t.index,t.index+4,'Unclosed Comment: Expected "-->" to fallow "<!--".')}return null}t.exports=r},{}],19:[function(e,t,n){function r(e,t,n,r,o,i){var a=t.codePointAt(t.index);if(62===a)return t.index++,o.close(),i.close(),!0;if(47===a&&62===t.codePointAt(t.index+1)){t.index+=2;var s=o.close();return s.selfClosed=!0,i.close(),!0}return null}t.exports=r},{}],20:[function(e,t,n){function r(e,t,n,r,a,s){var u,c,l=t.index,p=t.length;if(60===t.codePointAt(l)){if(47===t.codePointAt(l+1)&&(c=!0,l++),u=new o(t),l++,!i.isHTMLIdentifierStart(t.codePointAt(l)))throw t.makeError(l,l+1,"Unexpected Token: Expected <[A-Za-z]> but found "+JSON.stringify(t.charAt(l))+".");for(;l<p&&(ch=t.codePointAt(l),i.isHTMLIdentifier(ch));l++)u.name+=t.charAt(l);if(t.index=l,c){if(62!==ch)throw t.makeError(l,l+1,"Unexpected Token: Expected "+JSON.stringify(">")+" but found "+JSON.stringify(t.charAt(l))+".");if(l++,t.index=l,u.close(),!o.isCreation(a.token))throw t.makeError(u.range[0],u.range[1],"Unexpected Closing Tag: "+JSON.stringify(u.source(t))+".");if(a.token.name!==u.name)throw t.makeError(u.range[0],u.range[1],"Mismatch Closing Tag: Expected "+JSON.stringify("</"+a.token.name+">")+" but found "+JSON.stringify(u.source(t))+".");return a.close(),s.close(),!0}if(a.push(u),s("ATTR",u.attrs,r),!u.closed)throw t.makeError(l,l+1,"Unclosed Tag: Expected "+JSON.stringify(">")+" but found "+JSON.stringify(t.charAt(t.index))+".");if(i.isSelfClosing(u.name)&&(u.selfClosing=!0),u.selfClosing||u.selfClosed)return u;if(delete u.closed,"pre"!==u.name&&"style"!==u.name&&"script"!==u.name||(r.minify=!1),a.push(u),"style"===u.name||"script"===u.name?(r.textExitTag=u.name,s("TEXT",u.nodes,r),delete r.textExitTag):s(e,u.nodes,r),!u.closed)throw t.makeError(u.range[0],u.range[1],"Unclosed Tag: Expected "+JSON.stringify("</"+u.name+">")+" to fallow "+JSON.stringify(u.source(t))+".");return a.token&&(u.attrsUpdate||u.nodesUpdate)&&a.token.updates(),u}return null}var o=e("../tokens").tokens.tag,i=e("../utils");t.exports=r},{"../tokens":27,"../utils":39}],21:[function(e,t,n){n.parseText=e("./text"),n.parseWhitspace=e("./whitespace"),n.parseHTMLComment=e("./html-comment"),n.parseHTMLTag=e("./html-tag"),n.parseHTMLTagEnd=e("./html-tag-end"),n.parseHTMLAttr=e("./html-attr"),n.parseHTMLAttrEnd=e("./html-attr-end"),n.parseBarsMarkup=e("./bars-markup"),n.parseBarsComment=e("./bars-comment"),n.parseBarsInsert=e("./bars-insert"),n.parseBarsPartial=e("./bars-partial"),n.parseBarsBlock=e("./bars-block"),n.parseBarsMarkupEnd=e("./bars-markup-end"),n.parseExpressionValue=e("./expression-value"),n.parseExpressionLiteral=e("./expression-literal"),n.parseExpressionOpperator=e("./expression-opperator"),n.parseExpressionTransform=e("./expression-transform"),n.parseExpressionTransformEnd=e("./expression-transform-end")},{"./bars-block":5,"./bars-comment":6,"./bars-insert":7,"./bars-markup":9,"./bars-markup-end":8,"./bars-partial":10,"./expression-literal":11,"./expression-opperator":12,"./expression-transform":14,"./expression-transform-end":13,"./expression-value":15,"./html-attr":17,"./html-attr-end":16,"./html-comment":18,"./html-tag":20,"./html-tag-end":19,"./text":22,"./whitespace":23}],22:[function(e,t,n){function r(e,t,n,r,a,s){var u,c=t.index,l=!1,p="",f="";if("DOM"===e)for(;c<t.length;c++){if(ch=t.codePointAt(c),60===ch||123===ch&&123===t.codePointAt(c+1)){f+=p;break}38!==ch?l&&59===ch?(p+=t.charAt(c),f+=i.getHTMLUnEscape(p),l=!1,p=""):l&&i.isEntity(ch)?p+=t.charAt(c):(f+=p,l=!1,p="",f+=t.charAt(c)):(l=!0,p=t.charAt(c))}else if(r.whitepaceString)for(;c<t.length;c++){if(ch=t.codePointAt(c),10===ch)return t.index=c,null;if(34===ch&&92!==t.codePointAt(c-1))break;if(123===ch&&123===t.codePointAt(c+1))break}else for(;c<t.length&&(123!==t.codePointAt(c)||123!==t.codePointAt(c+1));c++){if("script"===r.textExitTag&&60===t.codePointAt(c)&&47===t.codePointAt(c+1)&&115===t.codePointAt(c+2)&&99===t.codePointAt(c+3)&&114===t.codePointAt(c+4)&&105===t.codePointAt(c+5)&&112===t.codePointAt(c+6)&&116===t.codePointAt(c+7)&&62===t.codePointAt(c+8)){u=9;break}if("style"===r.textExitTag&&60===t.codePointAt(c)&&47===t.codePointAt(c+1)&&115===t.codePointAt(c+2)&&116===t.codePointAt(c+3)&&121===t.codePointAt(c+4)&&108===t.codePointAt(c+5)&&101===t.codePointAt(c+6)&&62===t.codePointAt(c+7)){u=8;break}}if(t.index<c){var d=new o(t);if(t.index=c,d.close(),r.minify){if(d.value=i.minifyHTMLText(f||d.source(t)),/^\s*$/.test(d.value))return!0}else d.value=f||d.source(t);return r.textExitTag&&u&&(t.index+=u,a.close(),s.close()),d}return null}var o=e("../tokens").tokens.text,i=e("../utils");t.exports=r},{"../tokens":27,"../utils":39}],23:[function(e,t,n){function r(e,t,n,r,i,a){for(var s=t.index,u=t.length,c=0;s<u&&o.isWhitespace(t.codePointAt(s))&&(!r.whitepaceString||10!==t.codePointAt(s));s++)c++;return c?(t.index=s,!0):null}var o=e("../utils");t.exports=r},{"../utils":39}],24:[function(e,t,n){var r=e("./token"),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.name="",t.nodes=[],t.nodesUpdate=0});o.definePrototype({enumerable:!0},{type:"attr"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.name,e.nodes,e.nodesUpdate]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,name:e.name,nodes:e.nodes,nodesUpdate:e.nodesUpdate}},_fromArray:function(e){var t=this;t.name=e[1],t.nodes=e[2].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t}),t.nodesUpdate=e[3]},toString:function(){var e=this,t=" ";t+=e.name+(e.nodes.length?'="':"");for(var n=0;n<e.nodes.length;n++)e.nodes[n].indentLevel="",t+=e.nodes[n].toString();return t+=e.nodes.length?'"':""},updates:function(){var e=this;e.nodesUpdate=1}}),r.tokens.attr=o},{"./token":35}],25:[function(e,t,n){var r=e("./token"),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.name="",t.expression=null,t.map=null,t.consequent=null,t.alternate=null});o.definePrototype({enumerable:!0},{type:"block"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.name,e.expression,e.map,e.consequent,e.alternate]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,name:e.name,expression:e.expression,map:e.map,consequent:e.consequent,alternate:e.alternate}},_fromArray:function(e){var t=this;t.name=e[1];var n=new r.tokens[e[2][0]];n.fromArray(e[2]),t.expression=n,t.map=e[3];var o=new r.tokens.fragment;if(o.fromArray(e[4]),t.consequent=o,e[5]){var i=new r.tokens[e[5][0]];i.fromArray(e[5]),t.alternate=i}},toString:function(){var e=this,t="";if(e.fromElse||(t+=e.indentLevel+"{{#"),t+=e.name+" ",t+=e.expression.toString(),t+=e.map?e.map.toString():"",t+="}}",e.consequent.indentLevel=e.indentLevel?e.indentLevel+"  ":"",t+=e.consequent.toString(),e.alternate){if(e.alternate.indentLevel=e.indentLevel,"block"===e.alternate.type)return e.alternate.fromElse=!0,t+=e.indentLevel+"{{else "+e.alternate.toString();e.alternate.indentLevel+=e.indentLevel?e.indentLevel+"  ":"",t+=e.indentLevel+"{{else}}",t+=e.alternate.toString()}return t+=e.indentLevel+"{{/"+e.name+"}}"},updates:function(){var e=this;e.elsed&&e.alternate?e.alternate.nodesUpdate=1:e.consequent&&(e.consequent.nodesUpdate=1)}}),r.tokens.block=o},{"./token":35}],26:[function(e,t,n){var r=e("./token"),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.nodes=[],t.nodesUpdate=0});o.definePrototype({enumerable:!0},{type:"fragment"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.nodes,e.nodesUpdate]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,nodes:e.nodes,nodesUpdate:e.nodesUpdate}},_fromArray:function(e){var t=this;t.nodes=e[1].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t}),t.nodesUpdate=e[2]},toString:function(){for(var e=this,t="",n=0;n<e.nodes.length;n++)e.nodes[n].indentLevel=e.indentLevel,t+=e.nodes[n].toString();return t},updates:function(){var e=this;e.nodesUpdate=1}}),r.tokens.fragment=o},{"./token":35}],27:[function(e,t,n){var r=e("./token");e("./program"),e("./fragment"),e("./text"),e("./tag"),e("./attr"),e("./block"),e("./insert"),e("./partial"),e("./literal"),e("./value"),e("./transform"),e("./opperator"),t.exports=r},{"./attr":24,"./block":25,"./fragment":26,"./insert":28,"./literal":29,"./opperator":30,"./partial":31,"./program":32,"./tag":33,"./text":34,"./token":35,"./transform":36,"./value":37}],28:[function(e,t,n){var r=e("./token"),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.expression=null});o.definePrototype({enumerable:!0},{type:"insert"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.expression]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,expression:e.expression}},_fromArray:function(e){var t=this,n=new r.tokens[e[1][0]];n.fromArray(e[1]),t.expression=n},toString:function(){var e=this,t="{{ ";return t+=e.expression.toString(),t+=" }}"}}),r.tokens.insert=o},{"./token":35}],29:[function(e,t,n){var r=e("./token"),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.value=""});o.definePrototype({enumerable:!0},{type:"literal"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.value]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,value:e.value}},_fromArray:function(e){var t=this;t.value=e[1]},toString:function(){var e=this,t="";return t+=e.value}}),r.tokens.literal=o},{"./token":35}],30:[function(e,t,n){var r=e("./token"),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.opperator=0,t.arguments=[]});o.definePrototype({enumerable:!0},{type:"opperator"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.opperator,e.arguments]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,opperator:e.opperator,arguments:e.arguments}},_fromArray:function(e){var t=this;t.opperator=e[1],t.arguments=e[2].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t})},toString:function(){var e=this,t="";return 1===e.arguments.length?t+=e.opperator+e.arguments[0].toString():2===e.arguments.length&&(t+=e.arguments[0].toString(),t+=" "+e.opperator+" ",t+=e.arguments[1].toString()),t}}),r.tokens.opperator=o},{"./token":35}],31:[function(e,t,n){var r=e("./token"),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.name="",t.expression=null,t.map=null,t.consequent=null,t.alternate=null});o.definePrototype({enumerable:!0},{type:"partial"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.name,e.expression,e.map,e.partial]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,name:e.name,expression:e.expression,map:e.map,partial:e.partial}},_fromArray:function(e){var t=this;t.name=e[1];var n=new r.tokens[e[1][0]];n.fromArray(e[2]),t.expression=n,t.map=e[3];var o=new r.tokens.fragment;o.fromArray(e[4]),t.partial=o},toString:function(){var e=this,t=e.indentLevel+"{{>"+e.name;return t+=e.expression?" "+e.expression.toString():"",t+="}}"}}),r.tokens.partial=o},{"./token":35}],32:[function(e,t,n){var r=e("./token"),o=e("../../../package"),i=r.generate(function(e){var t=this;e&&r.call(t,e),t.version=o.version,t.mode="",t.fragment=null});i.definePrototype({enumerable:!0},{type:"program"}),i.definePrototype({writable:!0},{indentLevel:"\n"}),i.definePrototype({TYPE_ID:r.tokens.push(i)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.version,e.mode,e.fragment]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,version:e.version,mode:e.mode,fragment:e.fragment}},_fromArray:function(e){var t=this;t.version=e[1],t.mode=e[2];var n=new r.tokens.fragment;n.fromArray(e[3]),t.fragment=n},toString:function(){var e=this;return e.fragment.indentLevel=e.indentLevel,e.fragment.toString().trim()+"\n"}}),r.tokens.program=i},{"../../../package":55,"./token":35}],33:[function(e,t,n){var r=e("./token"),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.name="",t.attrs=[],t.nodes=[],t.attrsUpdate=0,t.nodesUpdate=0});o.definePrototype({enumerable:!0},{type:"tag"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.name,e.attrs,e.attrsUpdate,e.nodes,e.nodesUpdate]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,name:e.name,attrs:e.attrs,attrsUpdate:e.attrsUpdate,nodes:e.nodes,nodesUpdate:e.nodesUpdate}},_fromArray:function(e){var t=this;t.name=e[1],t.attrs=e[2].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t}),t.attrsUpdate=e[3],t.nodes=e[4].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t}),t.nodesUpdate=e[5]},toString:function(){for(var e=this,t=e.indentLevel+"<"+e.name,n=0;n<e.attrs.length;n++)t+=e.attrs[n].toString();if(e.selfClosed)return t+=(e.attrs.length?" ":"")+"/>";if(t+=">",e.selfClosing)return t;var r="";for(n=0;n<e.nodes.length;n++)e.nodes[n].indentLevel=e.indentLevel?e.indentLevel+"  ":"",r+=e.nodes[n].toString();return t+=r.trim(),t+=e.indentLevel+"</"+e.name+">"},updates:function(e){var t=this;"attr"===e?t.attrsUpdate=1:t.nodesUpdate=1}}),r.tokens.tag=o},{"./token":35}],34:[function(e,t,n){var r=e("./token"),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.value=""});o.definePrototype({enumerable:!0},{type:"text"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.value]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,value:e.value}},_fromArray:function(e){var t=this;t.value=e[1]},toString:function(){var e=this,t="";return t+=e.indentLevel+e.value}}),r.tokens.text=o},{"./token":35}],35:[function(e,t,n){var r=e("compileit").Token,o=r.generate(function(e,t){r.call(this,e,t)});o.tokens=[],o.definePrototype({writable:!0},{indentLevel:""}),o.definePrototype({TYPE_ID:-1,toJSON:function(e){return this.JSONuseObject?this.toObject():this.toArray()},toArray:function(){return console.warn("toArray not impleneted."),[-1]},toObject:function(){var e=this;return console.warn("toObject not impleneted."),{type:e.type,TYPE_ID:e.TYPE_ID}},fromArray:function(e){var t=this;if(e[0]!==t.TYPE_ID)throw"TypeMismatch: "+e[0]+" is not "+t.TYPE_ID;t._fromArray(e)},updates:function(){console.warn("updates not impleneted.")}}),t.exports=o},{compileit:48}],36:[function(e,t,n){var r=e("./token"),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.name="",t.arguments=[]});o.definePrototype({enumerable:!0},{type:"transform"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.name,e.arguments]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,name:e.name,arguments:e.arguments}},_fromArray:function(e){var t=this;t.name=e[1],t.arguments=e[2].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t})},toString:function(){var e=this,t="@";t+=e.name+"(";for(var n=0;n<e.arguments.length;n++)t+=e.arguments[n].toString()+(n+1<e.arguments.length?", ":"");return t+=")"}}),r.tokens.transform=o},{"./token":35}],37:[function(e,t,n){var r=e("./token"),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.path=""});o.definePrototype({enumerable:!0},{type:"value"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.path]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,path:e.path}},_fromArray:function(e){var t=this;t.path=e[1]},toString:function(){var e=this,t="";return t+="~"===e.path[0]||".."===e.path[0]||"."===e.path[0]||"@"===e.path[0]?e.path.join("/"):e.path.join(".")}}),r.tokens.value=o},{"./token":35}],38:[function(e,t,n){
t.exports={quot:34,amp:38,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,euro:8364}},{}],39:[function(e,t,n){function r(e){var t;if(e instanceof Array)t=e;else{if("string"!=typeof e)throw"bad arrgument: expected String | Array<String>.";t=e.match(/[\/]|[.][.]/)?e.split("/"):e.split("."),t[0]||t[1]||(t=["."]);var n=t.pop().split("@");n[0]&&t.push(n[0]),n[1]&&t.push("@"+n[1])}return t}function o(e){return p.indexOf(e)!==-1}function i(e){return 65<=e&&e<=90||97<=e&&e<=122}function a(e){return 48<=e&&e<=57||65<=e&&e<=90||97<=e&&e<=122}function s(e){return 45===e||48<=e&&e<=57||65<=e&&e<=90||95===e||97<=e&&e<=122}function u(e){return 9<=e&&e<=13||32===e||160===e||5760===e||6158===e||8192<=e&&e<=8202||8232<=e&&e<=8233||8239===e||8287===e||12288===e||65279===e}function c(e){return e.replace(/(\s*)/g,function(e){return e.split("").sort(function(e,t){return e=e.codePointAt(0),t=t.codePointAt(0),160!==e&&160===t?1:160===e&&160!==t?-1:0}).join("").replace(/[^\u00a0]+/," ")})}function l(e){var t;return t=f[e.slice(1,-1)],"number"!=typeof t&&"#"===e[1]&&(t=parseInt(e.slice(2,-1),10)),"number"!=typeof t||isNaN(t)?e:String.fromCharCode(t)}var p=e("./self-closing-tags"),f=e("./html-entities");n.pathSpliter=r,n.isSelfClosing=o,n.isHTMLIdentifierStart=i,n.isHTMLEntity=a,n.isHTMLIdentifier=s,n.isWhitespace=u,n.minifyHTMLText=c,n.getHTMLUnEscape=l},{"./html-entities":38,"./self-closing-tags":40}],40:[function(e,t,n){t.exports=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]},{}],41:[function(e,t,n){var r=e("generate-js"),o=e("./runtime/execute"),i=e("./runtime/utils"),a=e("./runtime/context"),s=i.pathSpliter,u=i.findPath,c={},l=[],p={fragment:"FRAG",tag:"TAG",text:"TEXT",attr:"ATTR",block:"BLOCK",insert:"TEXT",partial:"PARTIAL"},f=r.generate(function(e,t,n){var r=this;r.defineProperties({fragment:e||null,bars:t,nodes:[],parentTag:{get:r.getParentTag},prevDom:{get:r.getPrevDom},type:n.type,name:n.name,value:n.value,arg:n.expression,conFrag:n.consequent,altFrag:n.alternate})});f.definePrototype({update:function(e){var t=this;t.previousDom=null,t._update(e),t.isDOM&&(t._elementAppendTo(),t.parentTag.previousDom=t),t.previousDom=null},_update:function(){console.warn("_update method not implemented.")},appendChild:function(e){var t=this;t.nodes.push(e),e.parent=t},appendTo:function(e){var t=this;e instanceof Element&&t._elementAppendTo(e),f.isCreation(e)&&e.appendChild(t)},remove:function(){var e=this,t=e.parent.nodes.indexOf(e);t>=0&&e.parent.nodes.splice(t,1),e._elementRemove()},getParentTag:function(){for(var e=this,t=e.parent,n=t;t&&!t.isDOM;)n=t,t=t.parent;return t||n||null},getPrevDom:function(){var e=this;return e.parentTag&&e.parentTag.previousDom||null},_elementAppendTo:function(e){var t=this;if(t.parentTag&&(e=e||t.parentTag.$el||t.parentTag.$parent,e&&!t.$el.parentElement)){var n=t.prevDom;n?e.insertBefore(t.$el,n.$el.nextSibling):e.appendChild(t.$el)}},_elementRemove:function(){var e=this;e.isDOM&&e.$el.parentNode instanceof Element&&e.$el.parentNode.removeChild(e.$el)}}),c.TEXT=f.generate(function(e,t,n){var r=this;f.call(this,e,t,n),r.defineProperties({$el:document.createTextNode(n.value)})}),c.TEXT.definePrototype({isDOM:!0,appendChild:function(e){console.warn("appendChild CANNOT be called on TextNodes.")},_update:function(e){var t=this;t.arg&&(t.$el.textContent=o(t.arg,t.bars.transforms,e))}}),c.TAG=f.generate(function(e,t,n){var r,o=this,i=n.nodes||l,a=n.attrs||l;for(f.call(this,e,t,n),o.defineProperties({$el:document.createElement(n.name),attrs:[]}),r=0;r<i.length;r++){var s=i[r];o.appendChild(new c[p[s.type]](e,t,s))}for(r=0;r<a.length;r++){var u=a[r];o.addAttr(new c[p[u.type]](e,t,u))}}),c.TAG.definePrototype({isDOM:!0,_update:function(e){var t,n=this;for(t=0;t<n.attrs.length;t++)n.attrs[t].update(e);for(t=0;t<n.nodes.length;t++)n.nodes[t].update(e)},addAttr:function(e){var t=this;t.attrs.push(e),e.parent=t}}),c.ATTR=f.generate(function(e,t,n){var r=this,o=n.nodes||l;f.call(this,e,t,n),r.defineProperties({$el:document.createElement("div")});for(var i=0;i<o.length;i++){var a=o[i];r.appendChild(new c[p[a.type]](e,t,a))}}),c.ATTR.definePrototype({isDOM:!0,type:"ATTR",_update:function(e){var t,n=this;for(t=0;t<n.nodes.length;t++)n.nodes[t].update(e)},_elementAppendTo:function(){var e=this,t=e.parentTag.$el;t instanceof Element&&t.setAttribute(e.name,e.$el.textContent)},_elementRemove:function(){var e=this,t=e.parentTag.$el;t instanceof Element&&t.removeAttribute(e.name)}}),c.BLOCK=f.generate(function(e,t,n){var r=this;f.call(this,e,t,n),r.path=s(u(r.arg))}),c.BLOCK.definePrototype({type:"BLOCK",createFragment:function(e){var t=this,n=new c.FRAG(t.fragment,t.bars,t.conFrag);return t.appendChild(n),n},_update:function(e){var t,n,r,i=this;if("function"!=typeof i.bars.blocks[i.name])throw new Error("Block helper not found: "+i.name);if(n=o(i.arg,i.bars.transforms,e),t=i.bars.blocks[i.name].call(i,n)){for(i.nodes.length||i.createFragment(),r=0;r<i.nodes.length;r++)i.nodes[r].update(e);i.alternate&&i.alternate._elementRemove()}else{for(r=0;r<i.nodes.length;r++)i.nodes[r]._elementRemove();i.alternate||(i.alternate=new c.FRAG(i.fragment,i.bars,i.altFrag||{}),i.alternate.parent=i),i.alternate.update(e)}},_elementAppendTo:function(){},_elementRemove:function(){var e,t=this;for(e=0;e<t.nodes.length;e++)t.nodes[e]._elementRemove();t.alternate&&t.alternate._elementRemove()}}),c.PARTIAL=f.generate(function(e,t,n){var r=this;f.call(this,e,t,n),r.path=s(u(r.arg))}),c.PARTIAL.definePrototype({_update:function(e){var t=this;if(!t.partial){var n=t.bars.partials[t.name];if(!n||"object"!=typeof n)throw new Error("Partial not found: "+t.name);t.partial=new c.FRAG(t.fragment,t.bars,n.struct),t.partial.parent=t,(1===t.path.length&&"this"!==t.path[0]&&"."!==t.path[0]&&""!==t.path[0]||t.path.length>1)&&(t.partial.context.path=t.path)}var r=o(t.arg,t.bars.transforms,e);t.partial.context.data=r,t.partial.update(e)},_elementRemove:function(){var e=this;e.partial&&e.partial._elementRemove()}}),c.FRAG=f.generate(function(e,t,n){var r=this,o=n.nodes||l;f.call(this,e,t,n),r.context=new a(null,r,"");for(var i=0;i<o.length;i++){var s=o[i];p[s.type]&&r.appendChild(new c[p[s.type]](r,t,s))}}),c.FRAG.definePrototype({_update:function(e){var t=this;a.isCreation(e)||(t.context.data=e);for(var n=0;n<t.nodes.length;n++)t.nodes[n].update(t.context);t.context.data=null},_elementAppendTo:function(e){var t=this;t.$parent=e},_elementRemove:function(){for(var e=this,t=0;t<e.nodes.length;t++)e.nodes[t]._elementRemove();e.$parent=null}}),t.exports=c.FRAG},{"./runtime/context":43,"./runtime/execute":44,"./runtime/utils":46,"generate-js":54}],42:[function(e,t,n){var r=e("generate-js"),o=e("./frag"),i=r.generate(function(e,t){var n=this;n.defineProperties({bars:e,struct:t})});i.definePrototype({render:function(){var e=this;return new o(null,e.bars,e.struct)}}),t.exports=i},{"./frag":41,"generate-js":54}],43:[function(e,t,n){var r=e("generate-js"),o=e("./utils"),i=(o.pathSpliter,o.pathResolver),a=r.generate(function(e,t,n){var r=this;r.data=e,r.fragment=t,r.context=null,r.path=n,r.__path=[],r.props={get key(){return!r.path.length&&r.context?r.context.props.key:r.path[r.path.length-1]},get index(){return!r.path.length&&r.context?r.context.props.index:r.path[r.path.length-1]}}});a.definePrototype({path:{get:function(){return this.__path||[]},set:function e(e){var t=this,n=t.fragment;if(t.data=null,t.context=null,"~"===e[0]&&n.fragment){for(;n.fragment;)n=n.fragment;t.context=n.context,e.shift()}else if(".."===e[0]&&n.fragment&&n.fragment.fragment)for(t.context=n.fragment.context;".."===e[0]&&t.context.context;)e=i(t.context.path,e),t.context=t.context.context;t.__path=e}},lookup:function(e){var t=this,n=0;if(!t.context&&t.fragment.fragment&&(t.context=t.fragment.fragment.context),"~"===e[0]&&t.context)return t.context.lookup(e);if(".."===e[0]&&t.context)return t.context.lookup(i(t.path,e));if("this"!==e[0]&&"."!==e[0]&&"~"!==e[0]&&"@"!==e[0]||(n=1),!t.data&&t.context&&(t.data=t.context.lookup(t.path)),t.data){for(var r="@"===e[0]?t.props:t.data;r&&n<e.length;n++)r=null!==r&&void 0!==r?r[e[n]]:void 0;return r}}}),t.exports=a},{"./utils":46,"generate-js":54}],44:[function(e,t,n){function r(e,t,n){function r(e){var i,a=[];if("literal"===e.type)i=e.value;else if("value"===e.type)i=n.lookup(e.path);else if("opperator"===e.type&&1===e.arguments.length)i=o[e.opperator](r(e.arguments[0]));else if("opperator"===e.type&&2===e.arguments.length)i="||"===e.opperator?r(e.arguments[0])||r(e.arguments[1]):"&&"===e.opperator?r(e.arguments[0])&&r(e.arguments[1]):o[e.opperator](r(e.arguments[0]),r(e.arguments[1]));else if("transform"===e.type){for(var s=0;s<e.arguments.length;s++)a.push(r(e.arguments[s]));if(!(t[e.name]instanceof Function))throw'Missing Transfrom: "'+e.name+'".';i=t[e.name].apply(null,a)}return i}return e?r(e):n.lookup(".")}var o=e("./logic");t.exports=r},{"./logic":45}],45:[function(e,t,n){n.add=function(e,t){return e+t},n.subtract=function(e,t){return e-t},n.multiply=function(e,t){return e*t},n.devide=function(e,t){return e/t},n.mod=function(e,t){return e%t},n["+"]=n.add,n["-"]=n.subtract,n["*"]=n.multiply,n["/"]=n.devide,n["%"]=n.mod,n.not=function(e){return!e},n["!"]=n.not,n.or=function(e,t){return e||t},n.and=function(e,t){return e&&t},n["||"]=n.or,n["&&"]=n.and,n.strictequals=function(e,t){return e===t},n.strictnotequals=function(e,t){return e!==t},n["==="]=n.strictequals,n["!=="]=n.strictnotequals,n.equals=function(e,t){return e==t},n.notequals=function(e,t){return e!=t},n.ltequals=function(e,t){return e<=t},n.gtequals=function(e,t){return e>=t},n["=="]=n.equals,n["!="]=n.notequals,n["<="]=n.ltequals,n[">="]=n.gtequals,n.lt=function(e,t){return e<t},n.gt=function(e,t){return e>t},n["<"]=n.lt,n[">"]=n.gt},{}],46:[function(e,t,n){function r(e){if(e){if("insert"===e.type)return e.path;if("opperator"===e.type||"transform"===e.type)for(var t=0;t<e.arguments.length;t++){var n=r(e.arguments[t]);if("insert"===n.type)return n.argument}}return""}n.pathResolver=function(e,t){for(e=e.slice(),t=t.slice();e.length&&".."===t[0];)t.shift(),e.pop();return e.concat(t)},n.pathSpliter=function(e){var t;if(e instanceof Array)t=e;else{if("string"!=typeof e)throw"bad arrgument: expected String | Array<String>.";t=e.match(/[\/]|[.][.]/)?e.split("/"):e.split("."),t[0]||t[1]||(t=["."]);var n=t.pop().split("@");n[0]&&t.push(n[0]),n[1]&&t.push("@"+n[1])}return t},n.findPath=r},{}],47:[function(e,t,n){var r=e("generate-js"),o=r.generate(function(){});o.definePrototype({log:function(){var e=Array.prototype.slice.call(arguments);e.unshift("Bars:"),console.log.aplly(console,e)},upperCase:function(e){return String(e).toUpperCase()},lowerCase:function(e){return String(e).toLowerCase()},number:function(e){return Number(e)},string:function(e){return String(e)},reverse:function(e){return e.slice().reverse()},slice:function(e,t,n){return e.slice(t,n)},map:function(e,t){return e.map(function(n){return e[t]})},sort:function(e,t){return e.slice().sort(function(e,n){return t?e[t]<n[t]?-1:e[t]>n[t]?1:0:e<n?-1:e>n?1:0})},sum:function e(t,n){var r,e=0;if(n)for(r=0;r<t.length;r++)e+=t[r][n];else for(r=0;r<t.length;r++)e+=t[r];return e},ave:function(e,t){var n,r=0;if(t)for(n=0;n<e.length;n++)r+=e[n][t];else for(n=0;n<e.length;n++)r+=e[n];return r/e.length}}),t.exports=o},{"generate-js":54}],48:[function(e,t,n){n.Compiler=e("./lib/compiler"),n.Token=e("./lib/token")},{"./lib/compiler":50,"./lib/token":52}],49:[function(e,t,n){var r=e("generate-js"),o=e("./utils"),i=r.generate(function(e,t){var n=this;n.reset(),n._buffer=e,n._file=t});i.definePrototype({reset:function(){var e=this;e.line=1,e.column=1,e._index=0,e._currentLine=0},currentLine:{get:function(){for(var e=this,t="",n=e._currentLine;n<e.length&&(t+=e._buffer[n],10!==e._buffer.codePointAt(n));)n++;return t}},buffer:{get:function(){var e=this;return e._buffer}},index:{get:function(){var e=this;return e._index},set:function(e){var t=this,n=t._index,r=!1;if(e=Math.min(t.length,e),e=Math.max(0,e),n!=e){for(n>e&&(t.reset(),n=t._index),10===t.buffer.codePointAt(n)&&(r=!0,n++);n<=e;n++)r?(t._currentLine=n,t.line++,r=!1):t.column++,10===t.buffer.codePointAt(n)&&(r=!0);t.column=e-t._currentLine+1,t._index=e}}},length:{get:function(){var e=this;return e._buffer.length}},next:function(){var e=this;return e.index++,e.charAt(e.index)},left:{get:function(){var e=this;return e._index<e.length}},charAt:function(e){var t=this;return t._buffer[e]||"EOF"},codePointAt:function(e){var t=this;return t._buffer.codePointAt(e)},slice:function(e,t){var n=this;return n._buffer.slice(e,t)},makeError:function(e,t,n){var r=this;o.assertTypeError(e,"number"),o.assertTypeError(t,"number"),o.assertTypeError(n,"string"),r.index=e;var i,a=r.currentLine,s=t-e,u="\n"===a[a.length-1]?"":"\n";for(i=1;i<r.column;i++)u+=" ";for(s=Math.min(s,a.length-u.length)||1,i=0;i<s;i++)u+="^";return"Syntax Error: "+n+" at "+(r._file?r._file+":":"")+r.line+":"+r.column+"\n\n"+a+u+"\n"}}),t.exports=i},{"./utils":53,"generate-js":54}],50:[function(e,t,n){var r=e("generate-js"),o=e("./scope"),i=e("./token"),a=e("./code-buffer"),s=e("./utils"),u=r.generate(function(e,t){var n=this;n.modeFormater=t.modeFormater||s.varThrough,n.charFormater=t.charFormater||s.varThrough,n.funcFormater=t.funcFormater||s.varThrough,n.typeFormater=t.typeFormater||s.varThrough,n.sourceFormater=t.sourceFormater||s.varThrough,n.parseModes=e,n.scope=new o});u.definePrototype({compile:function(e,t,n,r){var o=this,i=[];if(o.codeBuffer=new a(e,t),o.scope.verbose=r.verbose,r.verbose&&o.scope.printScope(),o.parseMode(n,i,r),r.verbose&&o.scope.printScope(),o.scope.length)throw code.makeError("Unexpected End Of Input.");return i},parseMode:function(e,t,n){function r(e,t,n){a.parseMode(e,t,n)}var o,a=this,u=a.scope,c=a.codeBuffer,l=a.parseModes[e],p=c.index;if(!l)throw new Error("Mode not found: "+JSON.stringify(e)+".");r.close=function(){this.closed=!0};e:for(;c.left;){for(var f=0;f<l.length;f++){var d=l[f];if(n.verbose&&console.log(s.repeat("  ",u.length+1)+a.modeFormater(e)+" "+a.funcFormater(d.name)+"\n"+s.repeat("  ",u.length+1)+s.bufferSlice(c,5,a.charFormater)),o=d(e,c,t,n,u,r)){if(o instanceof i&&(t.push(o),n.verbose&&console.log(s.repeat("  ",u.length+1)+a.typeFormater(o.constructor.name||o.type)+": "+a.sourceFormater(o.source()))),r.closed){delete r.closed;break e}break}}if(r.closed){delete r.closed;break e}if(p===c.index){if(o=new i(c),o.close(c),o.value=o.source(c),!n.noErrorOnILLEGAL)throw c.makeError(o.range[0],o.range[1],"ILLEGAL Token: "+JSON.stringify(o.source(c)));t.push(o)}p=c.index}}}),t.exports=u},{"./code-buffer":49,"./scope":51,"./token":52,"./utils":53,"generate-js":54}],51:[function(e,t,n){var r=e("generate-js"),o=e("./token"),i=e("./utils"),a=r.generate(function(){var e=this;e.defineProperties({_scope:[]})});a.definePrototype({push:function(e){var t=this;return i.assertError(o.isCreation(e),"Invalid Type."),t._scope.push(e),t.verbose&&t.printScope(),t._scope.length},pop:function(){var e=this,t=e._scope.pop();return e.verbose&&e.printScope(),t},close:function(){var e=this,t=e._scope.pop();return t.close(),e.verbose&&e.printScope(),t},printScope:function(){var e=this;console.log(["Main"].concat(e._scope.map(function(e){return e.constructor.name||e.type})).join(" => "))},token:{get:function(){var e=this;return e._scope[e._scope.length-1]}},length:{get:function(){var e=this;return e._scope.length}}}),t.exports=a},{"./token":52,"./utils":53,"generate-js":54}],52:[function(e,t,n){var r=e("generate-js"),o=(e("./utils"),r.generate(function(e,t){var n=this;n.defineProperties({code:e}),n.type=t,n.range=[e.index,e.index+1],n.loc={start:{line:e.line,column:e.column},end:{line:e.line,column:e.column+1}}}));o.definePrototype({writable:!0,enumerable:!0},{type:"ILLEGAL"}),o.definePrototype({length:{get:function(){return this.range[1]-this.range[0]}},source:function(){var e=this;return e.code.slice(e.range[0],e.range[1])},close:function(){var e=this;if(e.closed)throw new Error("Cannot call close on a closed token.");e.closed=!0,e.code.index>e.range[1]&&(e.range[1]=e.code.index,e.loc.end={line:e.code.line,column:e.code.column})}}),t.exports=o},{"./utils":53,"generate-js":54}],53:[function(e,t,n){function r(e,t){if(!e)throw new Error(t)}function o(e,t){if(typeof e!==t)throw new TypeError("Expected '"+t+"' but instead found '"+typeof e+"'")}function i(e,t){for(var n="",r=0;r<t;r++)n+=e;return n}function a(e){return e}function s(e,t,n){return n=n||a,JSON.stringify(e.slice(Math.max(0,e.index-t),e.index)).slice(1,-1)+n(JSON.stringify(e.charAt(e.index)||"EOF").slice(1,-1))+JSON.stringify(e.slice(e.index+1,Math.min(e.length,e.index+1+t))).slice(1,-1)}n.assertError=r,n.assertTypeError=o,n.repeat=i,n.varThrough=a,n.bufferSlice=s},{}],54:[function(e,t,n){!function(){function e(e,t){if(typeof e!==t)throw new TypeError("Expected '"+t+"' but instead found '"+typeof e+"'")}function r(e){var t,n;return!!(e&&"object"==typeof e&&(t=Object.getOwnPropertyNames(e).sort(),n=t.length,1===n&&("get"===t[0]&&"function"==typeof e.get||"set"===t[0]&&"function"==typeof e.set)||2===n&&"get"===t[0]&&"function"==typeof e.get&&"set"===t[1]&&"function"==typeof e.set))}function o(e,t,n){var o,i,a,s={},u=n||t,c=n&&t;for(n=u&&"object"==typeof u?u:{},t=c&&"object"==typeof c?c:{},i=Object.getOwnPropertyNames(n),a=i.length,o=0;o<a;o++)r(n[i[o]])?s[i[o]]={configurable:!!t.configurable,enumerable:!!t.enumerable,get:n[i[o]].get,set:n[i[o]].set}:s[i[o]]={configurable:!!t.configurable,enumerable:!!t.enumerable,writable:!!t.writable,value:n[i[o]]};return Object.defineProperties(e,s),e}function i(){}var a={defineProperties:function(e,t){return o(this,e,t),this},getProto:function(){return Object.getPrototypeOf(this)},getSuper:function(){return Object.getPrototypeOf(this.constructor.prototype)}},s={isGeneration:function(t){e(t,"function");var n=this;return n.prototype.isPrototypeOf(t.prototype)},isCreation:function(e){var t=this;return e instanceof t},generate:function(t){e(t,"function");var n=this;return o(t,{configurable:!1,enumerable:!1,writable:!1},{prototype:Object.create(n.prototype)}),o(t,{configurable:!1,enumerable:!1,writable:!1},s),o(t.prototype,{configurable:!1,enumerable:!1,writable:!1},{constructor:t,generator:t}),t},definePrototype:function(e,t){return o(this.prototype,e,t),this}};o(i,{configurable:!1,enumerable:!1,writable:!1},{prototype:i.prototype}),o(i.prototype,{configurable:!1,enumerable:!1,writable:!1},a),o(i,{configurable:!1,enumerable:!1,writable:!1},s),o(i,{configurable:!1,enumerable:!1,writable:!1},{isGenerator:function(e){return this.isGeneration(e)},toGenerator:function(e,t){return console.warn("Generator.toGenerator is depreciated please use Generator.generateFrom"),this.generateFrom(e,t)},generateFrom:function(t,n){return e(t,"function"),e(n,"function"),o(n,{configurable:!1,enumerable:!1,writable:!1},{prototype:Object.create(t.prototype)}),o(n,{configurable:!1,enumerable:!1,writable:!1},s),o(n.prototype,{configurable:!1,enumerable:!1,writable:!1},{constructor:n,generator:n}),o(n.prototype,{configurable:!1,enumerable:!1,writable:!1},a),n}}),Object.freeze(i),Object.freeze(i.prototype),"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof t&&"object"==typeof n?t.exports=i:window.Generator=i}()},{}],55:[function(e,t,n){t.exports={name:"bars",version:"0.3.7",description:"Client-side html templating system that emits DOM.  The templates can be updated with new data without re-writing the DOM.",main:"index.js",scripts:{test:'echo "Error: no test specified" && exit 1'},repository:{type:"git",url:"git+https://github.com/Mike96Angelo/Bars.git"},keywords:["bars","template","templating","html"],author:"Michaelangelo Jong",license:"MIT",bugs:{url:"https://github.com/Mike96Angelo/Bars/issues"},homepage:"https://github.com/Mike96Angelo/Bars#readme",dependencies:{compileit:"0.0.19","generate-js":"^3.1.2"},devDependencies:{browserify:"^11.0.1",colors:"^1.1.2",gulp:"^3.9.1","gulp-minify":"0.0.14",stringify:"^5.1.0","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0"}}},{}]},{},[2]);